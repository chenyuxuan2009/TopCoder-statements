<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" as="font" href="/_next/static/media/c9a5bc6a7c948fb0-s.p.woff2" crossorigin="" type="font/woff2"/><link rel="preload" as="font" href="/_next/static/media/92f44bb82993d879-s.p.woff2" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/d3df112486f97f47.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/ce229e8280b65b88.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/67cd89eb2f8905c7.css" data-precedence="next"/><link rel="preload" href="/_next/static/chunks/webpack-f608cced2fbc4acf.js" as="script" fetchPriority="low"/><script src="/_next/static/chunks/fd9d1056-44fe9588d0e5e7bc.js" async=""></script><script src="/_next/static/chunks/596-8d845297122c6823.js" async=""></script><script src="/_next/static/chunks/main-app-f07f8834a8b67325.js" async=""></script><title>TopCoder Statistics - Problem Statement</title><meta name="description" content="TopCoder Statistics - Problem Archive"/><link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="16x16"/><meta name="next-size-adjust"/><script src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js" noModule=""></script></head><body class="__className_aaf875"><main><h1><a href="/">Statistics</a></h1><h2>Problem Statement for &quot;<!-- -->DistancePermutation<!-- -->&quot;</h2><section class="__className_c9cbed"><article><div><h3>Problem Statement</h3><div><p xmlns="http://topcoder.com">Limak has a tree with N vertices that are numbered 0 through N-1.
He wants to find a treasure that is hidden in one random vertex.
Each vertex is equally likely to contain the treasure.</p>
<p xmlns="http://topcoder.com">Every vertex contains a detector that Limak can use to get the distance to the vertex with the hidden treasure.</p>
<p xmlns="http://topcoder.com">Limak is going to use the detectors in a random order (each of N! orders is equally likely), and he will stop immediately when he is sure where the treasure is.
Can you find the expected value of the number of used detectors?</p>
<p xmlns="http://topcoder.com">You are given the <type>int[]</type> <b>parent</b> of length N-1 that describes the tree.
For every i between 1 and N-1 inclusive, vertices i and <b>parent</b>[i-1] are connected by an edge.</p>
<p xmlns="http://topcoder.com">Let X denote the expected value of the number of detectors Limak will use.
It can be proved that X*N*(N!) is an integer.
Find and return (X*N*(N!)) modulo 1,000,000,007.</p></div></div><div><h3>Definition</h3><dl><dt>Class:</dt><dd><span>DistancePermutation</span></dd><dt>Method:</dt><dd><span>solve</span></dd><dt>Parameters:</dt><dd><span>int[]</span></dd><dt>Returns:</dt><dd><span>int</span></dd><dt>Method signature:</dt><dd><span>int solve(int[] parent)</span></dd><dt>(be sure your method is public)</dt></dl></div><div><h3>Notes</h3><ul><li>The distance between two vertices is the number of edges on the shortest path between them.</li></ul></div><div><h3>Constraints</h3><ul><li><span>N will be between 1 and 50, inclusive.</span></li><li><span>parent will contain exactly N-1 elements.</span></li><li><span>For every valid i, parent[i] will be between 0 and i, inclusive.</span></li></ul></div><div><h3>Examples</h3><ol><li><div><p>{0}</p>
<p>Returns: 4</p>
<p>The tree consists of two vertices connected by an edge.
It's always enough to use one detector.
If it displays the distance 0, the treasure is in our current vertex.
If it displays the distance 1, the treasure is in the other vertex.
The expected value of the number of detectors used is 1 and multiplying it by N*(N!) gives the answer 4.</p></div></li><li><div><p>{0,0}</p>
<p>Returns: 22</p>
<p>There are three vertices and the edges are 0-1 and 0-2.
If Limak first uses a detector in vertex 1 or vertex 2, the displayed distance will be 0, 1 or 2, and Limak will immediately determine where the treasure is.
If the first used detector is in vertex 0 and it displays distance 0, the treasure must be in this vertex.
But if the distance is 1, Limak needs one more detector to say which of the other two vertices contains the treasure.

Using two detectors is necessary only if Limak first uses a detector in vertex 0 and the treasure is in vertex 1 or vertex 2.
The probability of that is 1/3 * 2/3 = 2/9.
The expected value of the number of used detectors is 7/9 * 1 + 2/9 * 2 = 11/9.
The answer is 11/9 * 3 * (3!) = 22.</p></div></li><li><div><p>{0,1}</p>
<p>Returns: 22</p>
<p></p></div></li><li><div><p>{0,0,0}</p>
<p>Returns: 174</p>
<p></p></div></li><li><div><p>{0,0,1,0,2,3}</p>
<p>Returns: 61008</p>
<p></p></div></li><li><div><p>{}</p>
<p>Returns: 0</p>
<p></p></div></li><li><div><p>{0,1,2}</p>
<p>Returns: 120</p>
<p></p></div></li><li><div><p>{0,0,2,0,1,2,2}</p>
<p>Returns: 863280</p>
<p></p></div></li><li><div><p>{0,0,0,0,0,0,0,0,0,0}</p>
<p>Returns: 391379186</p>
<p></p></div></li><li><div><p>{0,1,2,3,4,5,6,7,8,9,10,11,12,13}</p>
<p>Returns: 587860494</p>
<p></p></div></li><li><div><p>{0,0,2,2,4,2,5,6,2,6,2,9,12,7,4,12,12,15}</p>
<p>Returns: 472356442</p>
<p></p></div></li><li><div><p>{0,0,2,2,3,2,3,2,0,4,1,8,2,2,11,4,14,13,0,15,18,6,17,6}</p>
<p>Returns: 488505245</p>
<p></p></div></li><li><div><p>{0,1,1,3,2,2,3,3,3,3,9,9,3,0,14,2,7,16,17,19,4,12,1,6,16,13,20,13,26,2,2,13,22,15,33,32,15,11,22}</p>
<p>Returns: 531683434</p>
<p></p></div></li><li><div><p>{0,0,0,3,1,2,2,2,2,9,3,10,5,5,6,12,2,16,11,5,14,14,21,12,19,10,17,11,11,14,27,31,20,22,23,19,35,3,1,33,9,23,40,33,36,1,10,0}</p>
<p>Returns: 489808532</p>
<p></p></div></li><li><div><p>{0,0,1,2,0,0,5,0,1,3,7,3,12,8,9,8,12,9,14,2,19,8,3,19,12,2,11,23,6,26,21,14,13,7,21,31,1,37,35,0,19,22,3,19,12,25,22,28,41}</p>
<p>Returns: 367451031</p>
<p></p></div></li><li><div><p>{0,1,1,2,0,5,0,7,7,1,1,5,1,8,5,1,8,10,18,12,4,20,18,13,6,5,26,13,2,0,23,9,13,19,8,28,34,13,7,26,0,35,10,26,36,7,16,37,37}</p>
<p>Returns: 371610884</p>
<p></p></div></li><li><div><p>{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0}</p>
<p>Returns: 374381031</p>
<p></p></div></li><li><div><p>{0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48}</p>
<p>Returns: 576995391</p>
<p></p></div></li><li><div><p>{0,1,2,3,4,5,6,7,7,9,9,10,12,13,13,15,15,17,18,18,20,21,22,22,24,23,24,27,26,28,28,31,32,32,34,34,36,35,38,39,39,38,39,41,43,45,43,45,46}</p>
<p>Returns: 115355001</p>
<p></p></div></li><li><div><p>{0,0,0,0,0,0,0,0,0,1,0,1,0,1,1,1,1,0,1,1,0,1,0,1,1,1,1,1,2,1,0,2,1,2,0,2,0,3,1,0,2,3,0,2,3,0,0,3,3}</p>
<p>Returns: 957080348</p>
<p></p></div></li><li><div><p>{0,0,0,1,0,1,2,2,1,3,1,1,0,3,2,0,2,5,3,2,4,0,2,6,5,5,0,3,2,7,3,5,1,8,2,1,7,11,6,11,8,9,6,9,11,8,12,9}</p>
<p>Returns: 161805272</p>
<p></p></div></li><li><div><p>{0,1,2,2,3,4,6,6,7,9,8,11,12,10,12,13,16,13,14,15,20,18,19,19,23,19,26,20,22,24,29,22,25,33,30,26,30,30,35,32,32,34,29,31,44,33,40,38}</p>
<p>Returns: 430169954</p>
<p></p></div></li><li><div><p>{0,0,1,2,2,2,3,3,4,5,5,5,5,6,6,7,8,8,8,10,10,9,11,10,12,14,12,15,14,15,15,14,16,17,15,19,20,17,19,18,19,20,23,23,21,25,21,23,25}</p>
<p>Returns: 16375689</p>
<p></p></div></li><li><div><p>{0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2}</p>
<p>Returns: 684561486</p>
<p></p></div></li><li><div><p>{0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46}</p>
<p>Returns: 211519335</p>
<p></p></div></li><li><div><p>{0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25}</p>
<p>Returns: 544123157</p>
<p></p></div></li><li><div><p>{0, 1, 2, 2, 0, 3, 1, 3, 7, 3, 0, 11, 4, 9, 5, 12, 8, 4, 1, 11, 1, 12, 7, 8, 23, 22, 10, 0, 15, 15, 29, 31, 31, 11, 20, 12, 2, 2, 20, 20, 39, 35, 17, 9, 37, 9, 30, 10, 25 }</p>
<p>Returns: 794129072</p></div></li><li><div><p>{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 }</p>
<p>Returns: 374381031</p></div></li></ol></div></article><hr/><span>This problem statement is the exclusive and proprietary property of TopCoder, Inc. Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited. (c)2024, TopCoder, Inc. All rights reserved.</span><hr/></section><section><span>This problem was used for:</span><div><ul><li><a href="/ProblemDetail/rd/17608/pm/14725">2019-<!-- --> <!-- -->SRM 762<!-- --> - Division <!-- -->I<!-- -->, <!-- -->Level Three</a></li></ul></div></section></main><script src="/_next/static/chunks/webpack-f608cced2fbc4acf.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/media/c9a5bc6a7c948fb0-s.p.woff2\",{\"as\":\"font\",\"type\":\"font/woff2\"}]\n2:HL[\"/_next/static/css/d3df112486f97f47.css\",{\"as\":\"style\"}]\n3:HL[\"/_next/static/css/ce229e8280b65b88.css\",{\"as\":\"style\"}]\n0:\"$L4\"\n"])</script><script>self.__next_f.push([1,"5:HL[\"/_next/static/media/92f44bb82993d879-s.p.woff2\",{\"as\":\"font\",\"type\":\"font/woff2\"}]\n6:HL[\"/_next/static/css/67cd89eb2f8905c7.css\",{\"as\":\"style\"}]\n"])</script><script>self.__next_f.push([1,"7:I{\"id\":7948,\"chunks\":[\"272:static/chunks/webpack-f608cced2fbc4acf.js\",\"971:static/chunks/fd9d1056-44fe9588d0e5e7bc.js\",\"596:static/chunks/596-8d845297122c6823.js\"],\"name\":\"default\",\"async\":false}\n9:I{\"id\":6628,\"chunks\":[\"272:static/chunks/webpack-f608cced2fbc4acf.js\",\"971:static/chunks/fd9d1056-44fe9588d0e5e7bc.js\",\"596:static/chunks/596-8d845297122c6823.js\"],\"name\":\"\",\"async\":false}\na:I{\"id\":7767,\"chunks\":[\"272:static/chunks/webpack-f608cced2fbc4acf.js\",\"971:static/chunks/fd9d1056-44fe9588d0e5e7bc.js\",\"5"])</script><script>self.__next_f.push([1,"96:static/chunks/596-8d845297122c6823.js\"],\"name\":\"default\",\"async\":false}\nb:I{\"id\":7920,\"chunks\":[\"272:static/chunks/webpack-f608cced2fbc4acf.js\",\"971:static/chunks/fd9d1056-44fe9588d0e5e7bc.js\",\"596:static/chunks/596-8d845297122c6823.js\"],\"name\":\"default\",\"async\":false}\ne:I{\"id\":1221,\"chunks\":[\"334:static/chunks/334-8828ae4f59410144.js\",\"185:static/chunks/app/layout-ec819519d0132115.js\"],\"name\":\"\",\"async\":false}\n"])</script><script>self.__next_f.push([1,"4:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/d3df112486f97f47.css\",\"precedence\":\"next\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/ce229e8280b65b88.css\",\"precedence\":\"next\"}]],[\"$\",\"$L7\",null,{\"buildId\":\"7VpN_WliezDw3Rx1lULsj\",\"assetPrefix\":\"\",\"initialCanonicalUrl\":\"/ProblemStatement/pm/14725/\",\"initialTree\":[\"\",{\"children\":[\"ProblemStatement\",{\"children\":[\"pm\",{\"children\":[[\"problemId\",\"14725\",\"d\"],{\"children\":[\"__PAGE__?{\\\"problemId\\\":\\\"14725\\\"}\",{}]}]}]}]},\"$undefined\",\"$undefined\",true],\"initialHead\":[false,\"$L8\"],\"globalErrorComponent\":\"$9\",\"children\":[null,[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"className\":\"__className_aaf875\",\"children\":[[\"$\",\"$La\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"template\":[\"$\",\"$Lb\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],\"notFoundStyles\":[],\"childProp\":{\"current\":[\"$\",\"$La\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"ProblemStatement\",\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"template\":[\"$\",\"$Lb\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[\"$\",\"$La\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"ProblemStatement\",\"children\",\"pm\",\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"template\":[\"$\",\"$Lb\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[\"$\",\"$La\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"ProblemStatement\",\"children\",\"pm\",\"children\",[\"problemId\",\"14725\",\"d\"],\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"template\":[\"$\",\"$Lb\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[\"$Lc\",\"$Ld\",null],\"segment\":\"__PAGE__?{\\\"problemId\\\":\\\"14725\\\"}\"},\"styles\":[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/67cd89eb2f8905c7.css\",\"precedence\":\"next\"}]]}],\"segment\":[\"problemId\",\"14725\",\"d\"]},\"styles\":[]}],\"segment\":\"pm\"},\"styles\":[]}],\"segment\":\"ProblemStatement\"},\"styles\":[]}],[\"$\",\"$Le\",null,{}]]}]}],null]}]]\n"])</script><script>self.__next_f.push([1,"8:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"1\",{\"children\":\"TopCoder Statistics - Problem Statement\"}],[\"$\",\"meta\",\"2\",{\"name\":\"description\",\"content\":\"TopCoder Statistics - Problem Archive\"}],[\"$\",\"meta\",\"3\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"link\",\"4\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"16x16\"}],[\"$\",\"meta\",\"5\",{\"name\":\"next-size-adjust\"}]]\nc:null\n"])</script><script>self.__next_f.push([1,"f:T423,"])</script><script>self.__next_f.push([1,"\u003cp xmlns=\"http://topcoder.com\"\u003eLimak has a tree with N vertices that are numbered 0 through N-1.\nHe wants to find a treasure that is hidden in one random vertex.\nEach vertex is equally likely to contain the treasure.\u003c/p\u003e\n\u003cp xmlns=\"http://topcoder.com\"\u003eEvery vertex contains a detector that Limak can use to get the distance to the vertex with the hidden treasure.\u003c/p\u003e\n\u003cp xmlns=\"http://topcoder.com\"\u003eLimak is going to use the detectors in a random order (each of N! orders is equally likely), and he will stop immediately when he is sure where the treasure is.\nCan you find the expected value of the number of used detectors?\u003c/p\u003e\n\u003cp xmlns=\"http://topcoder.com\"\u003eYou are given the \u003ctype\u003eint[]\u003c/type\u003e \u003cb\u003eparent\u003c/b\u003e of length N-1 that describes the tree.\nFor every i between 1 and N-1 inclusive, vertices i and \u003cb\u003eparent\u003c/b\u003e[i-1] are connected by an edge.\u003c/p\u003e\n\u003cp xmlns=\"http://topcoder.com\"\u003eLet X denote the expected value of the number of detectors Limak will use.\nIt can be proved that X*N*(N!) is an integer.\nFind and return (X*N*(N!)) modulo 1,000,000,007.\u003c/p\u003e"])</script><script>self.__next_f.push([1,"d:[\"$\",\"main\",null,{\"children\":[[\"$\",\"h1\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"/\",\"children\":\"Statistics\"}]}],[\"$\",\"h2\",null,{\"children\":[\"Problem Statement for \\\"\",\"DistancePermutation\",\"\\\"\"]}],[\"$\",\"section\",null,{\"className\":\"__className_c9cbed\",\"children\":[[\"$\",\"article\",null,{\"children\":[[\"$\",\"div\",null,{\"children\":[[\"$\",\"h3\",null,{\"children\":\"Problem Statement\"}],[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"$f\"}}]]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"h3\",null,{\"children\":\"Definition\"}],[\"$\",\"dl\",null,{\"children\":[[\"$\",\"dt\",null,{\"children\":\"Class:\"}],[\"$\",\"dd\",null,{\"children\":[\"$\",\"span\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"DistancePermutation\"}}]}],[\"$\",\"dt\",null,{\"children\":\"Method:\"}],[\"$\",\"dd\",null,{\"children\":[\"$\",\"span\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"solve\"}}]}],[\"$\",\"dt\",null,{\"children\":\"Parameters:\"}],[\"$\",\"dd\",null,{\"children\":[\"$\",\"span\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"int[]\"}}]}],[\"$\",\"dt\",null,{\"children\":\"Returns:\"}],[\"$\",\"dd\",null,{\"children\":[\"$\",\"span\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"int\"}}]}],[\"$\",\"dt\",null,{\"children\":\"Method signature:\"}],[\"$\",\"dd\",null,{\"children\":[\"$\",\"span\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"int solve(int[] parent)\"}}]}],[\"$\",\"dt\",null,{\"children\":\"(be sure your method is public)\"}]]}]]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"h3\",null,{\"children\":\"Notes\"}],[\"$\",\"ul\",null,{\"children\":[[\"$\",\"li\",\"0\",{\"children\":\"The distance between two vertices is the number of edges on the shortest path between them.\"}]]}]]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"h3\",null,{\"children\":\"Constraints\"}],[\"$\",\"ul\",null,{\"children\":[[\"$\",\"li\",\"0\",{\"children\":[\"$\",\"span\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"N will be between 1 and 50, inclusive.\"}}]}],[\"$\",\"li\",\"1\",{\"children\":[\"$\",\"span\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"parent will contain exactly N-1 elements.\"}}]}],[\"$\",\"li\",\"2\",{\"children\":[\"$\",\"span\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"For every valid i, parent[i] will be between 0 and i, inclusive.\"}}]}]]}]]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"h3\",null,{\"children\":\"Examples\"}],[\"$\",\"ol\",null,{\"children\":[[\"$\",\"li\",\"0\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e{0}\u003c/p\u003e\\n\u003cp\u003eReturns: 4\u003c/p\u003e\\n\u003cp\u003eThe tree consists of two vertices connected by an edge.\\nIt's always enough to use one detector.\\nIf it displays the distance 0, the treasure is in our current vertex.\\nIf it displays the distance 1, the treasure is in the other vertex.\\nThe expected value of the number of detectors used is 1 and multiplying it by N*(N!) gives the answer 4.\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"1\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e{0,0}\u003c/p\u003e\\n\u003cp\u003eReturns: 22\u003c/p\u003e\\n\u003cp\u003eThere are three vertices and the edges are 0-1 and 0-2.\\nIf Limak first uses a detector in vertex 1 or vertex 2, the displayed distance will be 0, 1 or 2, and Limak will immediately determine where the treasure is.\\nIf the first used detector is in vertex 0 and it displays distance 0, the treasure must be in this vertex.\\nBut if the distance is 1, Limak needs one more detector to say which of the other two vertices contains the treasure.\\n\\nUsing two detectors is necessary only if Limak first uses a detector in vertex 0 and the treasure is in vertex 1 or vertex 2.\\nThe probability of that is 1/3 * 2/3 = 2/9.\\nThe expected value of the number of used detectors is 7/9 * 1 + 2/9 * 2 = 11/9.\\nThe answer is 11/9 * 3 * (3!) = 22.\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"2\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e{0,1}\u003c/p\u003e\\n\u003cp\u003eReturns: 22\u003c/p\u003e\\n\u003cp\u003e\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"3\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e{0,0,0}\u003c/p\u003e\\n\u003cp\u003eReturns: 174\u003c/p\u003e\\n\u003cp\u003e\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"4\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e{0,0,1,0,2,3}\u003c/p\u003e\\n\u003cp\u003eReturns: 61008\u003c/p\u003e\\n\u003cp\u003e\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"5\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e{}\u003c/p\u003e\\n\u003cp\u003eReturns: 0\u003c/p\u003e\\n\u003cp\u003e\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"6\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e{0,1,2}\u003c/p\u003e\\n\u003cp\u003eReturns: 120\u003c/p\u003e\\n\u003cp\u003e\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"7\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e{0,0,2,0,1,2,2}\u003c/p\u003e\\n\u003cp\u003eReturns: 863280\u003c/p\u003e\\n\u003cp\u003e\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"8\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e{0,0,0,0,0,0,0,0,0,0}\u003c/p\u003e\\n\u003cp\u003eReturns: 391379186\u003c/p\u003e\\n\u003cp\u003e\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"9\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e{0,1,2,3,4,5,6,7,8,9,10,11,12,13}\u003c/p\u003e\\n\u003cp\u003eReturns: 587860494\u003c/p\u003e\\n\u003cp\u003e\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"10\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e{0,0,2,2,4,2,5,6,2,6,2,9,12,7,4,12,12,15}\u003c/p\u003e\\n\u003cp\u003eReturns: 472356442\u003c/p\u003e\\n\u003cp\u003e\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"11\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e{0,0,2,2,3,2,3,2,0,4,1,8,2,2,11,4,14,13,0,15,18,6,17,6}\u003c/p\u003e\\n\u003cp\u003eReturns: 488505245\u003c/p\u003e\\n\u003cp\u003e\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"12\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e{0,1,1,3,2,2,3,3,3,3,9,9,3,0,14,2,7,16,17,19,4,12,1,6,16,13,20,13,26,2,2,13,22,15,33,32,15,11,22}\u003c/p\u003e\\n\u003cp\u003eReturns: 531683434\u003c/p\u003e\\n\u003cp\u003e\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"13\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e{0,0,0,3,1,2,2,2,2,9,3,10,5,5,6,12,2,16,11,5,14,14,21,12,19,10,17,11,11,14,27,31,20,22,23,19,35,3,1,33,9,23,40,33,36,1,10,0}\u003c/p\u003e\\n\u003cp\u003eReturns: 489808532\u003c/p\u003e\\n\u003cp\u003e\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"14\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e{0,0,1,2,0,0,5,0,1,3,7,3,12,8,9,8,12,9,14,2,19,8,3,19,12,2,11,23,6,26,21,14,13,7,21,31,1,37,35,0,19,22,3,19,12,25,22,28,41}\u003c/p\u003e\\n\u003cp\u003eReturns: 367451031\u003c/p\u003e\\n\u003cp\u003e\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"15\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e{0,1,1,2,0,5,0,7,7,1,1,5,1,8,5,1,8,10,18,12,4,20,18,13,6,5,26,13,2,0,23,9,13,19,8,28,34,13,7,26,0,35,10,26,36,7,16,37,37}\u003c/p\u003e\\n\u003cp\u003eReturns: 371610884\u003c/p\u003e\\n\u003cp\u003e\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"16\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0}\u003c/p\u003e\\n\u003cp\u003eReturns: 374381031\u003c/p\u003e\\n\u003cp\u003e\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"17\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e{0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48}\u003c/p\u003e\\n\u003cp\u003eReturns: 576995391\u003c/p\u003e\\n\u003cp\u003e\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"18\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e{0,1,2,3,4,5,6,7,7,9,9,10,12,13,13,15,15,17,18,18,20,21,22,22,24,23,24,27,26,28,28,31,32,32,34,34,36,35,38,39,39,38,39,41,43,45,43,45,46}\u003c/p\u003e\\n\u003cp\u003eReturns: 115355001\u003c/p\u003e\\n\u003cp\u003e\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"19\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e{0,0,0,0,0,0,0,0,0,1,0,1,0,1,1,1,1,0,1,1,0,1,0,1,1,1,1,1,2,1,0,2,1,2,0,2,0,3,1,0,2,3,0,2,3,0,0,3,3}\u003c/p\u003e\\n\u003cp\u003eReturns: 957080348\u003c/p\u003e\\n\u003cp\u003e\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"20\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e{0,0,0,1,0,1,2,2,1,3,1,1,0,3,2,0,2,5,3,2,4,0,2,6,5,5,0,3,2,7,3,5,1,8,2,1,7,11,6,11,8,9,6,9,11,8,12,9}\u003c/p\u003e\\n\u003cp\u003eReturns: 161805272\u003c/p\u003e\\n\u003cp\u003e\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"21\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e{0,1,2,2,3,4,6,6,7,9,8,11,12,10,12,13,16,13,14,15,20,18,19,19,23,19,26,20,22,24,29,22,25,33,30,26,30,30,35,32,32,34,29,31,44,33,40,38}\u003c/p\u003e\\n\u003cp\u003eReturns: 430169954\u003c/p\u003e\\n\u003cp\u003e\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"22\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e{0,0,1,2,2,2,3,3,4,5,5,5,5,6,6,7,8,8,8,10,10,9,11,10,12,14,12,15,14,15,15,14,16,17,15,19,20,17,19,18,19,20,23,23,21,25,21,23,25}\u003c/p\u003e\\n\u003cp\u003eReturns: 16375689\u003c/p\u003e\\n\u003cp\u003e\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"23\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e{0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2}\u003c/p\u003e\\n\u003cp\u003eReturns: 684561486\u003c/p\u003e\\n\u003cp\u003e\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"24\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e{0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46}\u003c/p\u003e\\n\u003cp\u003eReturns: 211519335\u003c/p\u003e\\n\u003cp\u003e\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"25\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e{0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25}\u003c/p\u003e\\n\u003cp\u003eReturns: 544123157\u003c/p\u003e\\n\u003cp\u003e\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"26\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e{0, 1, 2, 2, 0, 3, 1, 3, 7, 3, 0, 11, 4, 9, 5, 12, 8, 4, 1, 11, 1, 12, 7, 8, 23, 22, 10, 0, 15, 15, 29, 31, 31, 11, 20, 12, 2, 2, 20, 20, 39, 35, 17, 9, 37, 9, 30, 10, 25 }\u003c/p\u003e\\n\u003cp\u003eReturns: 794129072\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"27\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 }\u003c/p\u003e\\n\u003cp\u003eReturns: 374381031\u003c/p\u003e\"}}]}]]}]]}]]}],[\"$\",\"hr\",null,{}],[\"$\",\"span\",null,{\"children\":\"This problem statement is the exclusive and proprietary property of TopCoder, Inc. Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited. (c)2024, TopCoder, Inc. All rights reserved.\"}],[\"$\",\"hr\",null,{}]]}],[\"$\",\"section\",null,{\"children\":[[\"$\",\"span\",null,{\"children\":\"This problem was used for:\"}],[\"$\",\"div\",null,{\"children\":[\"$\",\"ul\",null,{\"children\":[[\"$\",\"li\",\"0\",{\"children\":[\"$\",\"a\",null,{\"href\":\"/ProblemDetail/rd/17608/pm/14725\",\"children\":[\"2019-\",\" \",\"SRM 762\",\" - Division \",\"I\",\", \",\"Level Three\"]}]}]]}]}]]}]]}]\n"])</script></body></html>