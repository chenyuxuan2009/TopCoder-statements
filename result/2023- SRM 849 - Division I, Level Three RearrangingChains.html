<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" as="font" href="/_next/static/media/c9a5bc6a7c948fb0-s.p.woff2" crossorigin="" type="font/woff2"/><link rel="preload" as="font" href="/_next/static/media/92f44bb82993d879-s.p.woff2" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/d3df112486f97f47.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/ce229e8280b65b88.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/67cd89eb2f8905c7.css" data-precedence="next"/><link rel="preload" href="/_next/static/chunks/webpack-f608cced2fbc4acf.js" as="script" fetchPriority="low"/><script src="/_next/static/chunks/fd9d1056-44fe9588d0e5e7bc.js" async=""></script><script src="/_next/static/chunks/596-8d845297122c6823.js" async=""></script><script src="/_next/static/chunks/main-app-f07f8834a8b67325.js" async=""></script><title>TopCoder Statistics - Problem Statement</title><meta name="description" content="TopCoder Statistics - Problem Archive"/><link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="16x16"/><meta name="next-size-adjust"/><script src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js" noModule=""></script></head><body class="__className_aaf875"><main><h1><a href="/">Statistics</a></h1><h2>Problem Statement for &quot;<!-- -->RearrangingChains<!-- -->&quot;</h2><section class="__className_c9cbed"><article><div><h3>Problem Statement</h3><div><p xmlns="http://topcoder.com">
You have a decorative cyclic chain.
The chain consists of <b>N</b> gold links, numbered from 1 to <b>N</b> in order.
</p>
<p xmlns="http://topcoder.com">
(For each i between 1 and <b>N</b>-1, inclusive, links i and i+1 are connected.
Links 1 and <b>N</b> are also connected.
No other pairs of links are connected. )
</p>
<p xmlns="http://topcoder.com">
All links in the chain are mutually distinct - each has its own specific decoration - so you can tell them all apart.
</p>
<br xmlns="http://topcoder.com"/>
<p xmlns="http://topcoder.com">
Below we will sometimes use dashes between link numbers to describe specific cyclic chains. For example, the chain -4-7-1-2-3-6-5- is a cyclic chain in which the pairs of links (4,7), (7,1), (1,2), (2,3), (3,6), (6,5), and (5,4) are connected.
</p>
<br xmlns="http://topcoder.com"/>
<p xmlns="http://topcoder.com">
A goldsmith knows a careful way to open the links and close them again.
This operation can be used to disconnect some pairs of links and later to connect other pairs of links.
(Note that you do not need to open both links in a pair to disconnect them - opening one of them is sufficient.)
</p>
<p xmlns="http://topcoder.com">
People often approach the goldsmith with their decorative chains and they ask him to rearrange the links into a different cyclic order.
Opening and closing the links wears them out and risks damaging the chain, therefore the goldsmith always tries to minimize the number of such operations.
</p>
<br xmlns="http://topcoder.com"/>
<p xmlns="http://topcoder.com">
We are now interested in an obvious question: what is the worst cyclic order people can ask for?
</p>
<p xmlns="http://topcoder.com">
More precisely, your task is as follows.
First, find the smallest possible integer K such that the chain you have can be rearranged into any other cyclic chain of <b>N</b> links by opening and later closing at most K links.
Second, find one cyclic chain C that cannot be produced from your chain -1-2-...-<b>N</b>- by opening fewer than K links.
(The elements of C are the numbers of the links in one possible order along the chain.)
</p>
<p xmlns="http://topcoder.com">
Return a <type>int[]</type> with <b>N</b>+1 values: the value K followed by the chosen permutation C.
</p></div></div><div><h3>Definition</h3><dl><dt>Class:</dt><dd><span>RearrangingChains</span></dd><dt>Method:</dt><dd><span>solve</span></dd><dt>Parameters:</dt><dd><span>int</span></dd><dt>Returns:</dt><dd><span>int[]</span></dd><dt>Method signature:</dt><dd><span>int[] solve(int N)</span></dd><dt>(be sure your method is public)</dt></dl></div><div><h3>Notes</h3><ul><li>Any valid answer (i.e., the correct optimal K followed by any valid permutation of links) will be accepted.</li></ul></div><div><h3>Constraints</h3><ul><li><span>N will be between 3 and 32, inclusive.</span></li></ul></div><div><h3>Examples</h3><ol><li><div><p>4</p>
<p>Returns: {2, 3, 4, 2, 1 }</p>
<p>
The return value claims that K = 2 and that the cyclic chain -3-4-2-1- cannot be produced from the cyclic chain -1-2-3-4- by opening fewer than two links.


The second claim can be proved by trying all possibilities which single link to open in the -1-2-3-4- chain. In each of them you will still have a connected pair of links that should not be connected in the desired new chain. E.g., if you open the link 3, links 1 and 4 are still connected.


The first claim can be proved by observing that in any chain that consists of these four links the link 1 has two neighbors, and at least one of them must be from the set {2, 3}. Pick one such neighbor and call it x. You can then leave the links 1 and x unopened. Opening the other two links is enough to rearrange the original chain into the desired one.
</p></div></li><li><div><p>5</p>
<p>Returns: {4, 5, 2, 4, 1, 3 }</p>
<p></p></div></li><li><div><p>6</p>
<p>Returns: {4, 6, 5, 2, 4, 1, 3 }</p>
<p>
The return value claims that K = 4 and that the cyclic chain -6-5-2-4-1-3- is one of the chains that are hardest to produce from the chain -1-2-3-4-5-6-, requiring us to open at least 4 links.


It's easy to verify that we can produce the returned cyclic chain by opening exactly 4 links: we can open links 1, 2, 3, 4, rearrange all links into their new order, and then close the links 1, 2, 3, 4 so that each becomes connected with its two new neighbors.


If you wanted to make sure that this return value is correct, you would need to show two more things: First, that -6-5-2-4-1-3- cannot be produced from -1-2-3-4-5-6- by opening fewer than three links, and second, that for N=6 there isn't any other cyclic chain that requires us to open more than four links when producing it from -1-2-3-4-5-6-.
</p></div></li><li><div><p>3</p>
<p>Returns: {0, 1, 2, 3 }</p>
<p></p></div></li><li><div><p>7</p>
<p>Returns: {5, 4, 1, 6, 3, 5, 7, 2 }</p>
<p></p></div></li><li><div><p>8</p>
<p>Returns: {6, 2, 4, 1, 3, 6, 8, 5, 7 }</p>
<p></p></div></li><li><div><p>9</p>
<p>Returns: {6, 2, 4, 1, 3, 6, 8, 5, 7, 9 }</p>
<p></p></div></li><li><div><p>10</p>
<p>Returns: {7, 2, 4, 1, 3, 6, 8, 10, 7, 5, 9 }</p>
<p></p></div></li><li><div><p>11</p>
<p>Returns: {8, 2, 4, 1, 3, 6, 11, 5, 8, 10, 7, 9 }</p>
<p></p></div></li><li><div><p>12</p>
<p>Returns: {9, 2, 4, 1, 3, 6, 8, 5, 7, 10, 12, 9, 11 }</p>
<p></p></div></li><li><div><p>13</p>
<p>Returns: {9, 2, 4, 1, 3, 6, 8, 5, 7, 10, 12, 9, 11, 13 }</p>
<p></p></div></li><li><div><p>14</p>
<p>Returns: {10, 2, 4, 1, 3, 6, 8, 5, 7, 10, 12, 14, 11, 9, 13 }</p>
<p></p></div></li><li><div><p>15</p>
<p>Returns: {11, 2, 4, 1, 3, 6, 8, 5, 7, 10, 15, 9, 12, 14, 11, 13 }</p>
<p></p></div></li><li><div><p>16</p>
<p>Returns: {12, 2, 4, 1, 3, 6, 8, 5, 7, 10, 12, 9, 11, 14, 16, 13, 15 }</p>
<p></p></div></li><li><div><p>17</p>
<p>Returns: {12, 2, 4, 1, 3, 6, 8, 5, 7, 10, 12, 9, 11, 14, 16, 13, 15, 17 }</p>
<p></p></div></li><li><div><p>18</p>
<p>Returns: {13, 2, 4, 1, 3, 6, 8, 5, 7, 10, 12, 9, 11, 14, 16, 18, 15, 13, 17 }</p>
<p></p></div></li><li><div><p>19</p>
<p>Returns: {14, 2, 4, 1, 3, 6, 8, 5, 7, 10, 12, 9, 11, 14, 19, 13, 16, 18, 15, 17 }</p>
<p></p></div></li><li><div><p>20</p>
<p>Returns: {15, 2, 4, 1, 3, 6, 8, 5, 7, 10, 12, 9, 11, 14, 16, 13, 15, 18, 20, 17, 19 }</p>
<p></p></div></li><li><div><p>21</p>
<p>Returns: {15, 2, 4, 1, 3, 6, 8, 5, 7, 10, 12, 9, 11, 14, 16, 13, 15, 18, 20, 17, 19, 21 }</p>
<p></p></div></li><li><div><p>22</p>
<p>Returns: {16, 2, 4, 1, 3, 6, 8, 5, 7, 10, 12, 9, 11, 14, 16, 13, 15, 18, 20, 22, 19, 17, 21 }</p>
<p></p></div></li><li><div><p>23</p>
<p>Returns: {17, 2, 4, 1, 3, 6, 8, 5, 7, 10, 12, 9, 11, 14, 16, 13, 15, 18, 23, 17, 20, 22, 19, 21 }</p>
<p></p></div></li><li><div><p>24</p>
<p>Returns: {18, 2, 4, 1, 3, 6, 8, 5, 7, 10, 12, 9, 11, 14, 16, 13, 15, 18, 20, 17, 19, 22, 24, 21, 23 }</p>
<p></p></div></li><li><div><p>25</p>
<p>Returns: {18, 2, 4, 1, 3, 6, 8, 5, 7, 10, 12, 9, 11, 14, 16, 13, 15, 18, 20, 17, 19, 22, 24, 21, 23, 25 }</p>
<p></p></div></li><li><div><p>26</p>
<p>Returns: {19, 2, 4, 1, 3, 6, 8, 5, 7, 10, 12, 9, 11, 14, 16, 13, 15, 18, 20, 17, 19, 22, 24, 26, 23, 21, 25 }</p>
<p></p></div></li><li><div><p>27</p>
<p>Returns: {20, 2, 4, 1, 3, 6, 8, 5, 7, 10, 12, 9, 11, 14, 16, 13, 15, 18, 20, 17, 19, 22, 27, 21, 24, 26, 23, 25 }</p>
<p></p></div></li><li><div><p>28</p>
<p>Returns: {21, 2, 4, 1, 3, 6, 8, 5, 7, 10, 12, 9, 11, 14, 16, 13, 15, 18, 20, 17, 19, 22, 24, 21, 23, 26, 28, 25, 27 }</p>
<p></p></div></li><li><div><p>29</p>
<p>Returns: {21, 2, 4, 1, 3, 6, 8, 5, 7, 10, 12, 9, 11, 14, 16, 13, 15, 18, 20, 17, 19, 22, 24, 21, 23, 26, 28, 25, 27, 29 }</p>
<p></p></div></li><li><div><p>30</p>
<p>Returns: {22, 2, 4, 1, 3, 6, 8, 5, 7, 10, 12, 9, 11, 14, 16, 13, 15, 18, 20, 17, 19, 22, 24, 21, 23, 26, 28, 30, 27, 25, 29 }</p>
<p></p></div></li><li><div><p>31</p>
<p>Returns: {23, 2, 4, 1, 3, 6, 8, 5, 7, 10, 12, 9, 11, 14, 16, 13, 15, 18, 20, 17, 19, 22, 24, 21, 23, 26, 31, 25, 28, 30, 27, 29 }</p>
<p></p></div></li><li><div><p>32</p>
<p>Returns: {24, 2, 4, 1, 3, 6, 8, 5, 7, 10, 12, 9, 11, 14, 16, 13, 15, 18, 20, 17, 19, 22, 24, 21, 23, 26, 28, 25, 27, 30, 32, 29, 31 }</p>
<p></p></div></li><li><div><p>33</p>
<p>Returns: {24, 2, 4, 1, 3, 6, 8, 5, 7, 10, 12, 9, 11, 14, 16, 13, 15, 18, 20, 17, 19, 22, 24, 21, 23, 26, 28, 25, 27, 30, 32, 29, 31, 33 }</p>
<p></p></div></li><li><div><p>34</p>
<p>Returns: {25, 2, 4, 1, 3, 6, 8, 5, 7, 10, 12, 9, 11, 14, 16, 13, 15, 18, 20, 17, 19, 22, 24, 21, 23, 26, 28, 25, 27, 30, 32, 34, 31, 29, 33 }</p>
<p></p></div></li><li><div><p>35</p>
<p>Returns: {26, 2, 4, 1, 3, 6, 8, 5, 7, 10, 12, 9, 11, 14, 16, 13, 15, 18, 20, 17, 19, 22, 24, 21, 23, 26, 28, 25, 27, 30, 35, 29, 32, 34, 31, 33 }</p>
<p></p></div></li><li><div><p>36</p>
<p>Returns: {27, 2, 4, 1, 3, 6, 8, 5, 7, 10, 12, 9, 11, 14, 16, 13, 15, 18, 20, 17, 19, 22, 24, 21, 23, 26, 28, 25, 27, 30, 32, 29, 31, 34, 36, 33, 35 }</p>
<p></p></div></li></ol></div></article><hr/><span>This problem statement is the exclusive and proprietary property of TopCoder, Inc. Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited. (c)2024, TopCoder, Inc. All rights reserved.</span><hr/></section><section><span>This problem was used for:</span><div><ul><li><a href="/ProblemDetail/rd/19678/pm/18099">2023-<!-- --> <!-- -->SRM 849<!-- --> - Division <!-- -->I<!-- -->, <!-- -->Level Three</a></li></ul></div></section></main><script src="/_next/static/chunks/webpack-f608cced2fbc4acf.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/media/c9a5bc6a7c948fb0-s.p.woff2\",{\"as\":\"font\",\"type\":\"font/woff2\"}]\n2:HL[\"/_next/static/css/d3df112486f97f47.css\",{\"as\":\"style\"}]\n3:HL[\"/_next/static/css/ce229e8280b65b88.css\",{\"as\":\"style\"}]\n0:\"$L4\"\n"])</script><script>self.__next_f.push([1,"5:HL[\"/_next/static/media/92f44bb82993d879-s.p.woff2\",{\"as\":\"font\",\"type\":\"font/woff2\"}]\n6:HL[\"/_next/static/css/67cd89eb2f8905c7.css\",{\"as\":\"style\"}]\n"])</script><script>self.__next_f.push([1,"7:I{\"id\":7948,\"chunks\":[\"272:static/chunks/webpack-f608cced2fbc4acf.js\",\"971:static/chunks/fd9d1056-44fe9588d0e5e7bc.js\",\"596:static/chunks/596-8d845297122c6823.js\"],\"name\":\"default\",\"async\":false}\n9:I{\"id\":6628,\"chunks\":[\"272:static/chunks/webpack-f608cced2fbc4acf.js\",\"971:static/chunks/fd9d1056-44fe9588d0e5e7bc.js\",\"596:static/chunks/596-8d845297122c6823.js\"],\"name\":\"\",\"async\":false}\na:I{\"id\":7767,\"chunks\":[\"272:static/chunks/webpack-f608cced2fbc4acf.js\",\"971:static/chunks/fd9d1056-44fe9588d0e5e7bc.js\",\"5"])</script><script>self.__next_f.push([1,"96:static/chunks/596-8d845297122c6823.js\"],\"name\":\"default\",\"async\":false}\nb:I{\"id\":7920,\"chunks\":[\"272:static/chunks/webpack-f608cced2fbc4acf.js\",\"971:static/chunks/fd9d1056-44fe9588d0e5e7bc.js\",\"596:static/chunks/596-8d845297122c6823.js\"],\"name\":\"default\",\"async\":false}\ne:I{\"id\":1221,\"chunks\":[\"334:static/chunks/334-8828ae4f59410144.js\",\"185:static/chunks/app/layout-ec819519d0132115.js\"],\"name\":\"\",\"async\":false}\n"])</script><script>self.__next_f.push([1,"4:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/d3df112486f97f47.css\",\"precedence\":\"next\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/ce229e8280b65b88.css\",\"precedence\":\"next\"}]],[\"$\",\"$L7\",null,{\"buildId\":\"7VpN_WliezDw3Rx1lULsj\",\"assetPrefix\":\"\",\"initialCanonicalUrl\":\"/ProblemStatement/pm/18099/\",\"initialTree\":[\"\",{\"children\":[\"ProblemStatement\",{\"children\":[\"pm\",{\"children\":[[\"problemId\",\"18099\",\"d\"],{\"children\":[\"__PAGE__?{\\\"problemId\\\":\\\"18099\\\"}\",{}]}]}]}]},\"$undefined\",\"$undefined\",true],\"initialHead\":[false,\"$L8\"],\"globalErrorComponent\":\"$9\",\"children\":[null,[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"className\":\"__className_aaf875\",\"children\":[[\"$\",\"$La\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"template\":[\"$\",\"$Lb\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],\"notFoundStyles\":[],\"childProp\":{\"current\":[\"$\",\"$La\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"ProblemStatement\",\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"template\":[\"$\",\"$Lb\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[\"$\",\"$La\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"ProblemStatement\",\"children\",\"pm\",\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"template\":[\"$\",\"$Lb\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[\"$\",\"$La\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"ProblemStatement\",\"children\",\"pm\",\"children\",[\"problemId\",\"18099\",\"d\"],\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"template\":[\"$\",\"$Lb\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[\"$Lc\",\"$Ld\",null],\"segment\":\"__PAGE__?{\\\"problemId\\\":\\\"18099\\\"}\"},\"styles\":[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/67cd89eb2f8905c7.css\",\"precedence\":\"next\"}]]}],\"segment\":[\"problemId\",\"18099\",\"d\"]},\"styles\":[]}],\"segment\":\"pm\"},\"styles\":[]}],\"segment\":\"ProblemStatement\"},\"styles\":[]}],[\"$\",\"$Le\",null,{}]]}]}],null]}]]\n"])</script><script>self.__next_f.push([1,"8:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"1\",{\"children\":\"TopCoder Statistics - Problem Statement\"}],[\"$\",\"meta\",\"2\",{\"name\":\"description\",\"content\":\"TopCoder Statistics - Problem Archive\"}],[\"$\",\"meta\",\"3\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"link\",\"4\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"16x16\"}],[\"$\",\"meta\",\"5\",{\"name\":\"next-size-adjust\"}]]\nc:null\nf:T8f0,"])</script><script>self.__next_f.push([1,"\u003cp xmlns=\"http://topcoder.com\"\u003e\nYou have a decorative cyclic chain.\nThe chain consists of \u003cb\u003eN\u003c/b\u003e gold links, numbered from 1 to \u003cb\u003eN\u003c/b\u003e in order.\n\u003c/p\u003e\n\u003cp xmlns=\"http://topcoder.com\"\u003e\n(For each i between 1 and \u003cb\u003eN\u003c/b\u003e-1, inclusive, links i and i+1 are connected.\nLinks 1 and \u003cb\u003eN\u003c/b\u003e are also connected.\nNo other pairs of links are connected. )\n\u003c/p\u003e\n\u003cp xmlns=\"http://topcoder.com\"\u003e\nAll links in the chain are mutually distinct - each has its own specific decoration - so you can tell them all apart.\n\u003c/p\u003e\n\u003cbr xmlns=\"http://topcoder.com\"/\u003e\n\u003cp xmlns=\"http://topcoder.com\"\u003e\nBelow we will sometimes use dashes between link numbers to describe specific cyclic chains. For example, the chain -4-7-1-2-3-6-5- is a cyclic chain in which the pairs of links (4,7), (7,1), (1,2), (2,3), (3,6), (6,5), and (5,4) are connected.\n\u003c/p\u003e\n\u003cbr xmlns=\"http://topcoder.com\"/\u003e\n\u003cp xmlns=\"http://topcoder.com\"\u003e\nA goldsmith knows a careful way to open the links and close them again.\nThis operation can be used to disconnect some pairs of links and later to connect other pairs of links.\n(Note that you do not need to open both links in a pair to disconnect them - opening one of them is sufficient.)\n\u003c/p\u003e\n\u003cp xmlns=\"http://topcoder.com\"\u003e\nPeople often approach the goldsmith with their decorative chains and they ask him to rearrange the links into a different cyclic order.\nOpening and closing the links wears them out and risks damaging the chain, therefore the goldsmith always tries to minimize the number of such operations.\n\u003c/p\u003e\n\u003cbr xmlns=\"http://topcoder.com\"/\u003e\n\u003cp xmlns=\"http://topcoder.com\"\u003e\nWe are now interested in an obvious question: what is the worst cyclic order people can ask for?\n\u003c/p\u003e\n\u003cp xmlns=\"http://topcoder.com\"\u003e\nMore precisely, your task is as follows.\nFirst, find the smallest possible integer K such that the chain you have can be rearranged into any other cyclic chain of \u003cb\u003eN\u003c/b\u003e links by opening and later closing at most K links.\nSecond, find one cyclic chain C that cannot be produced from your chain -1-2-...-\u003cb\u003eN\u003c/b\u003e- by opening fewer than K links.\n(The elements of C are the numbers of the links in one possible order along the chain.)\n\u003c/p\u003e\n\u003cp xmlns=\"http://topcoder.com\"\u003e\nReturn a \u003ctype\u003eint[]\u003c/type\u003e with \u003cb\u003eN\u003c/b\u003e+1 values: the value K followed by the chosen permutation C.\n\u003c/p\u003e"])</script><script>self.__next_f.push([1,"d:[\"$\",\"main\",null,{\"children\":[[\"$\",\"h1\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"/\",\"children\":\"Statistics\"}]}],[\"$\",\"h2\",null,{\"children\":[\"Problem Statement for \\\"\",\"RearrangingChains\",\"\\\"\"]}],[\"$\",\"section\",null,{\"className\":\"__className_c9cbed\",\"children\":[[\"$\",\"article\",null,{\"children\":[[\"$\",\"div\",null,{\"children\":[[\"$\",\"h3\",null,{\"children\":\"Problem Statement\"}],[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"$f\"}}]]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"h3\",null,{\"children\":\"Definition\"}],[\"$\",\"dl\",null,{\"children\":[[\"$\",\"dt\",null,{\"children\":\"Class:\"}],[\"$\",\"dd\",null,{\"children\":[\"$\",\"span\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"RearrangingChains\"}}]}],[\"$\",\"dt\",null,{\"children\":\"Method:\"}],[\"$\",\"dd\",null,{\"children\":[\"$\",\"span\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"solve\"}}]}],[\"$\",\"dt\",null,{\"children\":\"Parameters:\"}],[\"$\",\"dd\",null,{\"children\":[\"$\",\"span\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"int\"}}]}],[\"$\",\"dt\",null,{\"children\":\"Returns:\"}],[\"$\",\"dd\",null,{\"children\":[\"$\",\"span\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"int[]\"}}]}],[\"$\",\"dt\",null,{\"children\":\"Method signature:\"}],[\"$\",\"dd\",null,{\"children\":[\"$\",\"span\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"int[] solve(int N)\"}}]}],[\"$\",\"dt\",null,{\"children\":\"(be sure your method is public)\"}]]}]]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"h3\",null,{\"children\":\"Notes\"}],[\"$\",\"ul\",null,{\"children\":[[\"$\",\"li\",\"0\",{\"children\":\"Any valid answer (i.e., the correct optimal K followed by any valid permutation of links) will be accepted.\"}]]}]]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"h3\",null,{\"children\":\"Constraints\"}],[\"$\",\"ul\",null,{\"children\":[[\"$\",\"li\",\"0\",{\"children\":[\"$\",\"span\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"N will be between 3 and 32, inclusive.\"}}]}]]}]]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"h3\",null,{\"children\":\"Examples\"}],[\"$\",\"ol\",null,{\"children\":[[\"$\",\"li\",\"0\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e4\u003c/p\u003e\\n\u003cp\u003eReturns: {2, 3, 4, 2, 1 }\u003c/p\u003e\\n\u003cp\u003e\\nThe return value claims that K = 2 and that the cyclic chain -3-4-2-1- cannot be produced from the cyclic chain -1-2-3-4- by opening fewer than two links.\\n\\n\\nThe second claim can be proved by trying all possibilities which single link to open in the -1-2-3-4- chain. In each of them you will still have a connected pair of links that should not be connected in the desired new chain. E.g., if you open the link 3, links 1 and 4 are still connected.\\n\\n\\nThe first claim can be proved by observing that in any chain that consists of these four links the link 1 has two neighbors, and at least one of them must be from the set {2, 3}. Pick one such neighbor and call it x. You can then leave the links 1 and x unopened. Opening the other two links is enough to rearrange the original chain into the desired one.\\n\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"1\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e5\u003c/p\u003e\\n\u003cp\u003eReturns: {4, 5, 2, 4, 1, 3 }\u003c/p\u003e\\n\u003cp\u003e\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"2\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e6\u003c/p\u003e\\n\u003cp\u003eReturns: {4, 6, 5, 2, 4, 1, 3 }\u003c/p\u003e\\n\u003cp\u003e\\nThe return value claims that K = 4 and that the cyclic chain -6-5-2-4-1-3- is one of the chains that are hardest to produce from the chain -1-2-3-4-5-6-, requiring us to open at least 4 links.\\n\\n\\nIt's easy to verify that we can produce the returned cyclic chain by opening exactly 4 links: we can open links 1, 2, 3, 4, rearrange all links into their new order, and then close the links 1, 2, 3, 4 so that each becomes connected with its two new neighbors.\\n\\n\\nIf you wanted to make sure that this return value is correct, you would need to show two more things: First, that -6-5-2-4-1-3- cannot be produced from -1-2-3-4-5-6- by opening fewer than three links, and second, that for N=6 there isn't any other cyclic chain that requires us to open more than four links when producing it from -1-2-3-4-5-6-.\\n\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"3\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e3\u003c/p\u003e\\n\u003cp\u003eReturns: {0, 1, 2, 3 }\u003c/p\u003e\\n\u003cp\u003e\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"4\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e7\u003c/p\u003e\\n\u003cp\u003eReturns: {5, 4, 1, 6, 3, 5, 7, 2 }\u003c/p\u003e\\n\u003cp\u003e\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"5\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e8\u003c/p\u003e\\n\u003cp\u003eReturns: {6, 2, 4, 1, 3, 6, 8, 5, 7 }\u003c/p\u003e\\n\u003cp\u003e\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"6\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e9\u003c/p\u003e\\n\u003cp\u003eReturns: {6, 2, 4, 1, 3, 6, 8, 5, 7, 9 }\u003c/p\u003e\\n\u003cp\u003e\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"7\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e10\u003c/p\u003e\\n\u003cp\u003eReturns: {7, 2, 4, 1, 3, 6, 8, 10, 7, 5, 9 }\u003c/p\u003e\\n\u003cp\u003e\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"8\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e11\u003c/p\u003e\\n\u003cp\u003eReturns: {8, 2, 4, 1, 3, 6, 11, 5, 8, 10, 7, 9 }\u003c/p\u003e\\n\u003cp\u003e\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"9\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e12\u003c/p\u003e\\n\u003cp\u003eReturns: {9, 2, 4, 1, 3, 6, 8, 5, 7, 10, 12, 9, 11 }\u003c/p\u003e\\n\u003cp\u003e\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"10\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e13\u003c/p\u003e\\n\u003cp\u003eReturns: {9, 2, 4, 1, 3, 6, 8, 5, 7, 10, 12, 9, 11, 13 }\u003c/p\u003e\\n\u003cp\u003e\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"11\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e14\u003c/p\u003e\\n\u003cp\u003eReturns: {10, 2, 4, 1, 3, 6, 8, 5, 7, 10, 12, 14, 11, 9, 13 }\u003c/p\u003e\\n\u003cp\u003e\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"12\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e15\u003c/p\u003e\\n\u003cp\u003eReturns: {11, 2, 4, 1, 3, 6, 8, 5, 7, 10, 15, 9, 12, 14, 11, 13 }\u003c/p\u003e\\n\u003cp\u003e\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"13\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e16\u003c/p\u003e\\n\u003cp\u003eReturns: {12, 2, 4, 1, 3, 6, 8, 5, 7, 10, 12, 9, 11, 14, 16, 13, 15 }\u003c/p\u003e\\n\u003cp\u003e\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"14\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e17\u003c/p\u003e\\n\u003cp\u003eReturns: {12, 2, 4, 1, 3, 6, 8, 5, 7, 10, 12, 9, 11, 14, 16, 13, 15, 17 }\u003c/p\u003e\\n\u003cp\u003e\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"15\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e18\u003c/p\u003e\\n\u003cp\u003eReturns: {13, 2, 4, 1, 3, 6, 8, 5, 7, 10, 12, 9, 11, 14, 16, 18, 15, 13, 17 }\u003c/p\u003e\\n\u003cp\u003e\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"16\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e19\u003c/p\u003e\\n\u003cp\u003eReturns: {14, 2, 4, 1, 3, 6, 8, 5, 7, 10, 12, 9, 11, 14, 19, 13, 16, 18, 15, 17 }\u003c/p\u003e\\n\u003cp\u003e\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"17\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e20\u003c/p\u003e\\n\u003cp\u003eReturns: {15, 2, 4, 1, 3, 6, 8, 5, 7, 10, 12, 9, 11, 14, 16, 13, 15, 18, 20, 17, 19 }\u003c/p\u003e\\n\u003cp\u003e\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"18\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e21\u003c/p\u003e\\n\u003cp\u003eReturns: {15, 2, 4, 1, 3, 6, 8, 5, 7, 10, 12, 9, 11, 14, 16, 13, 15, 18, 20, 17, 19, 21 }\u003c/p\u003e\\n\u003cp\u003e\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"19\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e22\u003c/p\u003e\\n\u003cp\u003eReturns: {16, 2, 4, 1, 3, 6, 8, 5, 7, 10, 12, 9, 11, 14, 16, 13, 15, 18, 20, 22, 19, 17, 21 }\u003c/p\u003e\\n\u003cp\u003e\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"20\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e23\u003c/p\u003e\\n\u003cp\u003eReturns: {17, 2, 4, 1, 3, 6, 8, 5, 7, 10, 12, 9, 11, 14, 16, 13, 15, 18, 23, 17, 20, 22, 19, 21 }\u003c/p\u003e\\n\u003cp\u003e\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"21\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e24\u003c/p\u003e\\n\u003cp\u003eReturns: {18, 2, 4, 1, 3, 6, 8, 5, 7, 10, 12, 9, 11, 14, 16, 13, 15, 18, 20, 17, 19, 22, 24, 21, 23 }\u003c/p\u003e\\n\u003cp\u003e\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"22\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e25\u003c/p\u003e\\n\u003cp\u003eReturns: {18, 2, 4, 1, 3, 6, 8, 5, 7, 10, 12, 9, 11, 14, 16, 13, 15, 18, 20, 17, 19, 22, 24, 21, 23, 25 }\u003c/p\u003e\\n\u003cp\u003e\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"23\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e26\u003c/p\u003e\\n\u003cp\u003eReturns: {19, 2, 4, 1, 3, 6, 8, 5, 7, 10, 12, 9, 11, 14, 16, 13, 15, 18, 20, 17, 19, 22, 24, 26, 23, 21, 25 }\u003c/p\u003e\\n\u003cp\u003e\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"24\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e27\u003c/p\u003e\\n\u003cp\u003eReturns: {20, 2, 4, 1, 3, 6, 8, 5, 7, 10, 12, 9, 11, 14, 16, 13, 15, 18, 20, 17, 19, 22, 27, 21, 24, 26, 23, 25 }\u003c/p\u003e\\n\u003cp\u003e\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"25\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e28\u003c/p\u003e\\n\u003cp\u003eReturns: {21, 2, 4, 1, 3, 6, 8, 5, 7, 10, 12, 9, 11, 14, 16, 13, 15, 18, 20, 17, 19, 22, 24, 21, 23, 26, 28, 25, 27 }\u003c/p\u003e\\n\u003cp\u003e\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"26\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e29\u003c/p\u003e\\n\u003cp\u003eReturns: {21, 2, 4, 1, 3, 6, 8, 5, 7, 10, 12, 9, 11, 14, 16, 13, 15, 18, 20, 17, 19, 22, 24, 21, 23, 26, 28, 25, 27, 29 }\u003c/p\u003e\\n\u003cp\u003e\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"27\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e30\u003c/p\u003e\\n\u003cp\u003eReturns: {22, 2, 4, 1, 3, 6, 8, 5, 7, 10, 12, 9, 11, 14, 16, 13, 15, 18, 20, 17, 19, 22, 24, 21, 23, 26, 28, 30, 27, 25, 29 }\u003c/p\u003e\\n\u003cp\u003e\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"28\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e31\u003c/p\u003e\\n\u003cp\u003eReturns: {23, 2, 4, 1, 3, 6, 8, 5, 7, 10, 12, 9, 11, 14, 16, 13, 15, 18, 20, 17, 19, 22, 24, 21, 23, 26, 31, 25, 28, 30, 27, 29 }\u003c/p\u003e\\n\u003cp\u003e\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"29\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e32\u003c/p\u003e\\n\u003cp\u003eReturns: {24, 2, 4, 1, 3, 6, 8, 5, 7, 10, 12, 9, 11, 14, 16, 13, 15, 18, 20, 17, 19, 22, 24, 21, 23, 26, 28, 25, 27, 30, 32, 29, 31 }\u003c/p\u003e\\n\u003cp\u003e\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"30\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e33\u003c/p\u003e\\n\u003cp\u003eReturns: {24, 2, 4, 1, 3, 6, 8, 5, 7, 10, 12, 9, 11, 14, 16, 13, 15, 18, 20, 17, 19, 22, 24, 21, 23, 26, 28, 25, 27, 30, 32, 29, 31, 33 }\u003c/p\u003e\\n\u003cp\u003e\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"31\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e34\u003c/p\u003e\\n\u003cp\u003eReturns: {25, 2, 4, 1, 3, 6, 8, 5, 7, 10, 12, 9, 11, 14, 16, 13, 15, 18, 20, 17, 19, 22, 24, 21, 23, 26, 28, 25, 27, 30, 32, 34, 31, 29, 33 }\u003c/p\u003e\\n\u003cp\u003e\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"32\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e35\u003c/p\u003e\\n\u003cp\u003eReturns: {26, 2, 4, 1, 3, 6, 8, 5, 7, 10, 12, 9, 11, 14, 16, 13, 15, 18, 20, 17, 19, 22, 24, 21, 23, 26, 28, 25, 27, 30, 35, 29, 32, 34, 31, 33 }\u003c/p\u003e\\n\u003cp\u003e\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"33\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e36\u003c/p\u003e\\n\u003cp\u003eReturns: {27, 2, 4, 1, 3, 6, 8, 5, 7, 10, 12, 9, 11, 14, 16, 13, 15, 18, 20, 17, 19, 22, 24, 21, 23, 26, 28, 25, 27, 30, 32, 29, 31, 34, 36, 33, 35 }\u003c/p\u003e\\n\u003cp\u003e\u003c/p\u003e\"}}]}]]}]]}]]}],[\"$\",\"hr\",null,{}],[\"$\",\"span\",null,{\"children\":\"This problem statement is the exclusive and proprietary property of TopCoder, Inc. Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited. (c)2024, TopCoder, Inc. All rights reserved.\"}],[\"$\",\"hr\",null,{}]]}],[\"$\",\"section\",null,{\"children\":[[\"$\",\"span\",null,{\"children\":\"This problem was used for:\"}],[\"$\",\"div\",null,{\"children\":[\"$\",\"ul\",null,{\"children\":[[\"$\",\"li\",\"0\",{\"children\":[\"$\",\"a\",null,{\"href\":\"/ProblemDetail/rd/19678/pm/18099\",\"children\":[\"2023-\",\" \",\"SRM 849\",\" - Division \",\"I\",\", \",\"Level Three\"]}]}]]}]}]]}]]}]\n"])</script></body></html>