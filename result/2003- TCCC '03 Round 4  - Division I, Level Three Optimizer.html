<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" as="font" href="/_next/static/media/c9a5bc6a7c948fb0-s.p.woff2" crossorigin="" type="font/woff2"/><link rel="preload" as="font" href="/_next/static/media/92f44bb82993d879-s.p.woff2" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/d3df112486f97f47.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/ce229e8280b65b88.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/67cd89eb2f8905c7.css" data-precedence="next"/><link rel="preload" href="/_next/static/chunks/webpack-f608cced2fbc4acf.js" as="script" fetchPriority="low"/><script src="/_next/static/chunks/fd9d1056-44fe9588d0e5e7bc.js" async=""></script><script src="/_next/static/chunks/596-8d845297122c6823.js" async=""></script><script src="/_next/static/chunks/main-app-f07f8834a8b67325.js" async=""></script><title>TopCoder Statistics - Problem Statement</title><meta name="description" content="TopCoder Statistics - Problem Archive"/><link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="16x16"/><meta name="next-size-adjust"/><script src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js" noModule=""></script></head><body class="__className_aaf875"><main><h1><a href="/">Statistics</a></h1><h2>Problem Statement for &quot;<!-- -->Optimizer<!-- -->&quot;</h2><section class="__className_c9cbed"><article><div><h3>Problem Statement</h3><div><p xmlns="http://topcoder.com">Compilers often optimize source code to make programs run faster.  One common optimization is to evaluate constant expressions while compiling.  For example, when compiling the expression "a * 4 * 3", you can first reduce it to "a * 12" before compiling it to machine code.  You are to write a class Optimizer with a method reduce that takes a <type>String</type>, <b>expression</b>, and determines the minimum cost of evaluating the expression after it has been fully reduced.  For this problem, we will only be considering add and multiply operations on a machine that takes 1 cycle to perform an add operation, and 10 cycles to perform a multiply operation.  You should reduce the expression according to the following specifications:</p>
<ul xmlns="http://topcoder.com">
<li>- Multiplication and addition are both commutative, e.g. "a * b" = "b * a" and "a + b" = "b + a".</li>
<li>- Multiplication and addition are both associative, e.g. "(a * b) * c" = "a * (b * c)" and "(a + b) + c" = "a + (b + c)".</li>
<li>- We have no guarantees that the values of the variables will stay the same throughout the computations, so an expression such as "3 * a + 4 * a" can not be reduced to "7 * a".  In other words, you should treat each occurrence of a variable as if it was a unique variable.</li>
<li>- "&lt;expression&gt; + 0" is always "&lt;expression&gt;", and "&lt;expression&gt; * 1" is always "&lt;expression&gt;".  Similarly, "&lt;expression&gt; * 0" is always 0.</li>
<li>- Any reductions that you make must follow directly from commutativity, associativity, the above rule, or from evaluating part of an expression that does not contain any variables.  Thus, you may not reduce "a * 2" into "a + a" or vice versa, but you may reduce "(3 + 4) * a" to "7 * a" because you are evaluating a part of the expression that does not contain any variables.</li>
</ul>
<p xmlns="http://topcoder.com">Your method should reduce the expression as much as possible, following the above rules, and return the number of cycles required to evaluate the reduced expression, given that each addition takes 1 cycle, and each multiplication takes 10 cycles.  When performing reductions, you must follow standard operator precedence rules: terms in parentheses are evaluated first, then multiplication, then addition.</p>
<p xmlns="http://topcoder.com">The input string will be a well-formed &lt;expression&gt; conforming to the following grammar:</p>
<pre xmlns="http://topcoder.com">
&lt;expression&gt; ::= &lt;expression&gt;&lt;op&gt;&lt;expression&gt; |
                       &lt;sp&gt;&lt;expression&gt;&lt;sp&gt; | 
                       (&lt;expression&gt;) | &lt;var&gt; | &lt;num&gt;
&lt;var&gt; ::= a sequence of one or more lowercase letters ('a'-'z')
&lt;num&gt; ::= a sequence of one or more digits ('0'-'9')
&lt;op&gt; ::= '*' | '+'
&lt;sp&gt; ::= zero or more spaces (' ')
</pre></div></div><div><h3>Definition</h3><dl><dt>Class:</dt><dd><span>Optimizer</span></dd><dt>Method:</dt><dd><span>reduce</span></dd><dt>Parameters:</dt><dd><span>String</span></dd><dt>Returns:</dt><dd><span>int</span></dd><dt>Method signature:</dt><dd><span>int reduce(String expression)</span></dd><dt>(be sure your method is public)</dt></dl></div><div><h3>Notes</h3><ul><li>Be sure to only apply the reductions mentioned in the problem statement.  In particular, note that we are not applying the distrubutive property of addition and multiplication.  See example 7.</li><li>A common way to represent the structure of the expression is to build a tree, where each internal node represents an operation (&#x27;+&#x27; or &#x27;*&#x27;) and each leaf represents a variable or number.</li></ul></div><div><h3>Constraints</h3><ul><li><span>expression will contain between 1 and 50 characters, inclusive.</span></li><li><span>expression will conform to the grammar defined above.</span></li><li><span>Each <num> will represent an integer between 0 and 2^32-1, inclusive.</span></li><li><span>The numbers in fully reduced expressions will not exceed 2^32-1.</span></li></ul></div><div><h3>Examples</h3><ol><li><div><p>"  alpha*beta+5*006  "</p>
<p>Returns: 11</p>
<p>This can be reduced to "alpha * beta + 30", which has one multiplication and one addition.</p></div></li><li><div><p>"a * b * 00 + 1 * 5"</p>
<p>Returns: 0</p>
<p>This can simply be reduced to "5" which requires no evaluation.</p></div></li><li><div><p>"dx + a * b * 0 + 1 * c"</p>
<p>Returns: 1</p></div></li><li><div><p>"5 * (3 + 4 + c) + (a + c) * (c + d)"</p>
<p>Returns: 24</p>
<p>This can be reduced to "5 * (7 + c) + (a + c) * (c + d)" which has 4 additions and 2 multiplications.  Note that we can not reduce "5 * (7 + c)" to "35 + 5 * c" because that reduction is a property of distributivity, and is not one of the allowed reductions.</p></div></li><li><div><p>"9 * ((4 + 4)) * (7) * (3 + 1) + 504"</p>
<p>Returns: 0</p>
<p>There are no variables here, so the compiler can evaluate the whole expression and reduce it to "2520"</p></div></li><li><div><p>"a * (0 + 0 + b * 0)"</p>
<p>Returns: 0</p></div></li><li><div><p>"(((((((((((((((((((((((a+a)))))))))))))))))))))))"</p>
<p>Returns: 1</p></div></li><li><div><p>"(aa+(4))"</p>
<p>Returns: 1</p></div></li><li><div><p>"4*4"</p>
<p>Returns: 0</p></div></li><li><div><p>"99*99*99*99*99*99*99*99*99*99*99*99*99*99*a*99*0"</p>
<p>Returns: 0</p></div></li><li><div><p>"99*99*99*99*99*99*99*99*99*99*99*99*99*99*99*0"</p>
<p>Returns: 0</p>
<p>Note that this is a valid input because, even though the 99*99*...*99 results in a number that is too large, multiplying by 0 always gives 0.</p></div></li><li><div><p>"3 * a + 4 * a"</p>
<p>Returns: 21</p>
<p>Remember that we don't reduce this to "7 * a"</p></div></li><li><div><p>"0000000000000000000000123456"</p>
<p>Returns: 0</p></div></li><li><div><p>"((((aa))))"</p>
<p>Returns: 0</p></div></li><li><div><p>"  a         +     (  4   ) *5 "</p>
<p>Returns: 1</p></div></li><li><div><p>"a * (0 + 0 + 1 * (0 + 1 + 0 * (5 + 4 * 3)))"</p>
<p>Returns: 0</p></div></li><li><div><p>"(1+1)*a"</p>
<p>Returns: 10</p></div></li><li><div><p>"(1 + 0 * a) * c + (0 + 0 * b) * d"</p>
<p>Returns: 0</p></div></li><li><div><p>"(256*256*256*256)*0"</p>
<p>Returns: 0</p></div></li><li><div><p>"5 * d + 5 * b" </p>
<p>Returns: 21</p>
<p>Remember that we are not applying the distributive property, so we cannot reduce this to "5 * (d + b)".</p></div></li><li><div><p>"(65536*65536*65536*65536)*0"</p>
<p>Returns: 0</p></div></li><li><div><p>"(a*5)*4+((a+4)+5)"</p>
<p>Returns: 12</p>
<p>Note that we can first change this to "a*(5*4)+(a+(4+5))" and then to "a*20+a+9".</p></div></li><li><div><p>"   (x)   +99+     1 +(11116+22919)"</p>
<p>Returns: 1</p></div></li><li><div><p>"(a*5)*(b*6)"</p>
<p>Returns: 20</p></div></li><li><div><p>"(1)+0+1*(w+6)*1"</p>
<p>Returns: 1</p>
<p>We can reduce this to "w + 7"</p></div></li><li><div><p>"1+1*(w+1*(w+1*(w+1*(w+1*(w+1*(w+1*(w+1)))))))"</p>
<p>Returns: 7</p></div></li><li><div><p>"00000000000000000000000000000000000000002000000000"</p>
<p>Returns: 0</p></div></li><li><div><p>"(0*x+0+1+2*0*2*4*a*1+asdasd)+3*(1+a+0+b*1+b*21+1)"</p>
<p>Returns: 25</p></div></li><li><div><p>"1*ante"</p>
<p>Returns: 0</p></div></li></ol></div></article><hr/><span>This problem statement is the exclusive and proprietary property of TopCoder, Inc. Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited. (c)2024, TopCoder, Inc. All rights reserved.</span><hr/></section><section><span>This problem was used for:</span><div><ul><li><a href="/ProblemDetail/rd/4482/pm/1574">2003-<!-- --> <!-- -->TCCC &#x27;03 Round 4 <!-- --> - Division <!-- -->I<!-- -->, <!-- -->Level Three</a></li></ul></div></section></main><script src="/_next/static/chunks/webpack-f608cced2fbc4acf.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/media/c9a5bc6a7c948fb0-s.p.woff2\",{\"as\":\"font\",\"type\":\"font/woff2\"}]\n2:HL[\"/_next/static/css/d3df112486f97f47.css\",{\"as\":\"style\"}]\n3:HL[\"/_next/static/css/ce229e8280b65b88.css\",{\"as\":\"style\"}]\n0:\"$L4\"\n"])</script><script>self.__next_f.push([1,"5:HL[\"/_next/static/media/92f44bb82993d879-s.p.woff2\",{\"as\":\"font\",\"type\":\"font/woff2\"}]\n6:HL[\"/_next/static/css/67cd89eb2f8905c7.css\",{\"as\":\"style\"}]\n"])</script><script>self.__next_f.push([1,"7:I{\"id\":7948,\"chunks\":[\"272:static/chunks/webpack-f608cced2fbc4acf.js\",\"971:static/chunks/fd9d1056-44fe9588d0e5e7bc.js\",\"596:static/chunks/596-8d845297122c6823.js\"],\"name\":\"default\",\"async\":false}\n9:I{\"id\":6628,\"chunks\":[\"272:static/chunks/webpack-f608cced2fbc4acf.js\",\"971:static/chunks/fd9d1056-44fe9588d0e5e7bc.js\",\"596:static/chunks/596-8d845297122c6823.js\"],\"name\":\"\",\"async\":false}\na:I{\"id\":7767,\"chunks\":[\"272:static/chunks/webpack-f608cced2fbc4acf.js\",\"971:static/chunks/fd9d1056-44fe9588d0e5e7bc.js\",\"5"])</script><script>self.__next_f.push([1,"96:static/chunks/596-8d845297122c6823.js\"],\"name\":\"default\",\"async\":false}\nb:I{\"id\":7920,\"chunks\":[\"272:static/chunks/webpack-f608cced2fbc4acf.js\",\"971:static/chunks/fd9d1056-44fe9588d0e5e7bc.js\",\"596:static/chunks/596-8d845297122c6823.js\"],\"name\":\"default\",\"async\":false}\ne:I{\"id\":1221,\"chunks\":[\"334:static/chunks/334-8828ae4f59410144.js\",\"185:static/chunks/app/layout-ec819519d0132115.js\"],\"name\":\"\",\"async\":false}\n"])</script><script>self.__next_f.push([1,"4:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/d3df112486f97f47.css\",\"precedence\":\"next\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/ce229e8280b65b88.css\",\"precedence\":\"next\"}]],[\"$\",\"$L7\",null,{\"buildId\":\"7VpN_WliezDw3Rx1lULsj\",\"assetPrefix\":\"\",\"initialCanonicalUrl\":\"/ProblemStatement/pm/1574/\",\"initialTree\":[\"\",{\"children\":[\"ProblemStatement\",{\"children\":[\"pm\",{\"children\":[[\"problemId\",\"1574\",\"d\"],{\"children\":[\"__PAGE__?{\\\"problemId\\\":\\\"1574\\\"}\",{}]}]}]}]},\"$undefined\",\"$undefined\",true],\"initialHead\":[false,\"$L8\"],\"globalErrorComponent\":\"$9\",\"children\":[null,[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"className\":\"__className_aaf875\",\"children\":[[\"$\",\"$La\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"template\":[\"$\",\"$Lb\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],\"notFoundStyles\":[],\"childProp\":{\"current\":[\"$\",\"$La\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"ProblemStatement\",\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"template\":[\"$\",\"$Lb\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[\"$\",\"$La\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"ProblemStatement\",\"children\",\"pm\",\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"template\":[\"$\",\"$Lb\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[\"$\",\"$La\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"ProblemStatement\",\"children\",\"pm\",\"children\",[\"problemId\",\"1574\",\"d\"],\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"template\":[\"$\",\"$Lb\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[\"$Lc\",\"$Ld\",null],\"segment\":\"__PAGE__?{\\\"problemId\\\":\\\"1574\\\"}\"},\"styles\":[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/67cd89eb2f8905c7.css\",\"precedence\":\"next\"}]]}],\"segment\":[\"problemId\",\"1574\",\"d\"]},\"styles\":[]}],\"segment\":\"pm\"},\"styles\":[]}],\"segment\":\"ProblemStatement\"},\"styles\":[]}],[\"$\",\"$Le\",null,{}]]}]}],null]}]]\n"])</script><script>self.__next_f.push([1,"8:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"1\",{\"children\":\"TopCoder Statistics - Problem Statement\"}],[\"$\",\"meta\",\"2\",{\"name\":\"description\",\"content\":\"TopCoder Statistics - Problem Archive\"}],[\"$\",\"meta\",\"3\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"link\",\"4\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"16x16\"}],[\"$\",\"meta\",\"5\",{\"name\":\"next-size-adjust\"}]]\nc:null\n"])</script><script>self.__next_f.push([1,"f:Tb5f,"])</script><script>self.__next_f.push([1,"\u003cp xmlns=\"http://topcoder.com\"\u003eCompilers often optimize source code to make programs run faster.  One common optimization is to evaluate constant expressions while compiling.  For example, when compiling the expression \"a * 4 * 3\", you can first reduce it to \"a * 12\" before compiling it to machine code.  You are to write a class Optimizer with a method reduce that takes a \u003ctype\u003eString\u003c/type\u003e, \u003cb\u003eexpression\u003c/b\u003e, and determines the minimum cost of evaluating the expression after it has been fully reduced.  For this problem, we will only be considering add and multiply operations on a machine that takes 1 cycle to perform an add operation, and 10 cycles to perform a multiply operation.  You should reduce the expression according to the following specifications:\u003c/p\u003e\n\u003cul xmlns=\"http://topcoder.com\"\u003e\n\u003cli\u003e- Multiplication and addition are both commutative, e.g. \"a * b\" = \"b * a\" and \"a + b\" = \"b + a\".\u003c/li\u003e\n\u003cli\u003e- Multiplication and addition are both associative, e.g. \"(a * b) * c\" = \"a * (b * c)\" and \"(a + b) + c\" = \"a + (b + c)\".\u003c/li\u003e\n\u003cli\u003e- We have no guarantees that the values of the variables will stay the same throughout the computations, so an expression such as \"3 * a + 4 * a\" can not be reduced to \"7 * a\".  In other words, you should treat each occurrence of a variable as if it was a unique variable.\u003c/li\u003e\n\u003cli\u003e- \"\u0026lt;expression\u0026gt; + 0\" is always \"\u0026lt;expression\u0026gt;\", and \"\u0026lt;expression\u0026gt; * 1\" is always \"\u0026lt;expression\u0026gt;\".  Similarly, \"\u0026lt;expression\u0026gt; * 0\" is always 0.\u003c/li\u003e\n\u003cli\u003e- Any reductions that you make must follow directly from commutativity, associativity, the above rule, or from evaluating part of an expression that does not contain any variables.  Thus, you may not reduce \"a * 2\" into \"a + a\" or vice versa, but you may reduce \"(3 + 4) * a\" to \"7 * a\" because you are evaluating a part of the expression that does not contain any variables.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp xmlns=\"http://topcoder.com\"\u003eYour method should reduce the expression as much as possible, following the above rules, and return the number of cycles required to evaluate the reduced expression, given that each addition takes 1 cycle, and each multiplication takes 10 cycles.  When performing reductions, you must follow standard operator precedence rules: terms in parentheses are evaluated first, then multiplication, then addition.\u003c/p\u003e\n\u003cp xmlns=\"http://topcoder.com\"\u003eThe input string will be a well-formed \u0026lt;expression\u0026gt; conforming to the following grammar:\u003c/p\u003e\n\u003cpre xmlns=\"http://topcoder.com\"\u003e\n\u0026lt;expression\u0026gt; ::= \u0026lt;expression\u0026gt;\u0026lt;op\u0026gt;\u0026lt;expression\u0026gt; |\n                       \u0026lt;sp\u0026gt;\u0026lt;expression\u0026gt;\u0026lt;sp\u0026gt; | \n                       (\u0026lt;expression\u0026gt;) | \u0026lt;var\u0026gt; | \u0026lt;num\u0026gt;\n\u0026lt;var\u0026gt; ::= a sequence of one or more lowercase letters ('a'-'z')\n\u0026lt;num\u0026gt; ::= a sequence of one or more digits ('0'-'9')\n\u0026lt;op\u0026gt; ::= '*' | '+'\n\u0026lt;sp\u0026gt; ::= zero or more spaces (' ')\n\u003c/pre\u003e"])</script><script>self.__next_f.push([1,"d:[\"$\",\"main\",null,{\"children\":[[\"$\",\"h1\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"/\",\"children\":\"Statistics\"}]}],[\"$\",\"h2\",null,{\"children\":[\"Problem Statement for \\\"\",\"Optimizer\",\"\\\"\"]}],[\"$\",\"section\",null,{\"className\":\"__className_c9cbed\",\"children\":[[\"$\",\"article\",null,{\"children\":[[\"$\",\"div\",null,{\"children\":[[\"$\",\"h3\",null,{\"children\":\"Problem Statement\"}],[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"$f\"}}]]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"h3\",null,{\"children\":\"Definition\"}],[\"$\",\"dl\",null,{\"children\":[[\"$\",\"dt\",null,{\"children\":\"Class:\"}],[\"$\",\"dd\",null,{\"children\":[\"$\",\"span\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"Optimizer\"}}]}],[\"$\",\"dt\",null,{\"children\":\"Method:\"}],[\"$\",\"dd\",null,{\"children\":[\"$\",\"span\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"reduce\"}}]}],[\"$\",\"dt\",null,{\"children\":\"Parameters:\"}],[\"$\",\"dd\",null,{\"children\":[\"$\",\"span\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"String\"}}]}],[\"$\",\"dt\",null,{\"children\":\"Returns:\"}],[\"$\",\"dd\",null,{\"children\":[\"$\",\"span\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"int\"}}]}],[\"$\",\"dt\",null,{\"children\":\"Method signature:\"}],[\"$\",\"dd\",null,{\"children\":[\"$\",\"span\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"int reduce(String expression)\"}}]}],[\"$\",\"dt\",null,{\"children\":\"(be sure your method is public)\"}]]}]]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"h3\",null,{\"children\":\"Notes\"}],[\"$\",\"ul\",null,{\"children\":[[\"$\",\"li\",\"0\",{\"children\":\"Be sure to only apply the reductions mentioned in the problem statement.  In particular, note that we are not applying the distrubutive property of addition and multiplication.  See example 7.\"}],[\"$\",\"li\",\"1\",{\"children\":\"A common way to represent the structure of the expression is to build a tree, where each internal node represents an operation ('+' or '*') and each leaf represents a variable or number.\"}]]}]]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"h3\",null,{\"children\":\"Constraints\"}],[\"$\",\"ul\",null,{\"children\":[[\"$\",\"li\",\"0\",{\"children\":[\"$\",\"span\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"expression will contain between 1 and 50 characters, inclusive.\"}}]}],[\"$\",\"li\",\"1\",{\"children\":[\"$\",\"span\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"expression will conform to the grammar defined above.\"}}]}],[\"$\",\"li\",\"2\",{\"children\":[\"$\",\"span\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"Each \u003cnum\u003e will represent an integer between 0 and 2^32-1, inclusive.\"}}]}],[\"$\",\"li\",\"3\",{\"children\":[\"$\",\"span\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"The numbers in fully reduced expressions will not exceed 2^32-1.\"}}]}]]}]]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"h3\",null,{\"children\":\"Examples\"}],[\"$\",\"ol\",null,{\"children\":[[\"$\",\"li\",\"0\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e\\\"  alpha*beta+5*006  \\\"\u003c/p\u003e\\n\u003cp\u003eReturns: 11\u003c/p\u003e\\n\u003cp\u003eThis can be reduced to \\\"alpha * beta + 30\\\", which has one multiplication and one addition.\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"1\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e\\\"a * b * 00 + 1 * 5\\\"\u003c/p\u003e\\n\u003cp\u003eReturns: 0\u003c/p\u003e\\n\u003cp\u003eThis can simply be reduced to \\\"5\\\" which requires no evaluation.\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"2\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e\\\"dx + a * b * 0 + 1 * c\\\"\u003c/p\u003e\\n\u003cp\u003eReturns: 1\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"3\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e\\\"5 * (3 + 4 + c) + (a + c) * (c + d)\\\"\u003c/p\u003e\\n\u003cp\u003eReturns: 24\u003c/p\u003e\\n\u003cp\u003eThis can be reduced to \\\"5 * (7 + c) + (a + c) * (c + d)\\\" which has 4 additions and 2 multiplications.  Note that we can not reduce \\\"5 * (7 + c)\\\" to \\\"35 + 5 * c\\\" because that reduction is a property of distributivity, and is not one of the allowed reductions.\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"4\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e\\\"9 * ((4 + 4)) * (7) * (3 + 1) + 504\\\"\u003c/p\u003e\\n\u003cp\u003eReturns: 0\u003c/p\u003e\\n\u003cp\u003eThere are no variables here, so the compiler can evaluate the whole expression and reduce it to \\\"2520\\\"\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"5\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e\\\"a * (0 + 0 + b * 0)\\\"\u003c/p\u003e\\n\u003cp\u003eReturns: 0\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"6\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e\\\"(((((((((((((((((((((((a+a)))))))))))))))))))))))\\\"\u003c/p\u003e\\n\u003cp\u003eReturns: 1\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"7\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e\\\"(aa+(4))\\\"\u003c/p\u003e\\n\u003cp\u003eReturns: 1\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"8\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e\\\"4*4\\\"\u003c/p\u003e\\n\u003cp\u003eReturns: 0\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"9\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e\\\"99*99*99*99*99*99*99*99*99*99*99*99*99*99*a*99*0\\\"\u003c/p\u003e\\n\u003cp\u003eReturns: 0\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"10\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e\\\"99*99*99*99*99*99*99*99*99*99*99*99*99*99*99*0\\\"\u003c/p\u003e\\n\u003cp\u003eReturns: 0\u003c/p\u003e\\n\u003cp\u003eNote that this is a valid input because, even though the 99*99*...*99 results in a number that is too large, multiplying by 0 always gives 0.\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"11\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e\\\"3 * a + 4 * a\\\"\u003c/p\u003e\\n\u003cp\u003eReturns: 21\u003c/p\u003e\\n\u003cp\u003eRemember that we don't reduce this to \\\"7 * a\\\"\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"12\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e\\\"0000000000000000000000123456\\\"\u003c/p\u003e\\n\u003cp\u003eReturns: 0\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"13\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e\\\"((((aa))))\\\"\u003c/p\u003e\\n\u003cp\u003eReturns: 0\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"14\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e\\\"  a         +     (  4   ) *5 \\\"\u003c/p\u003e\\n\u003cp\u003eReturns: 1\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"15\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e\\\"a * (0 + 0 + 1 * (0 + 1 + 0 * (5 + 4 * 3)))\\\"\u003c/p\u003e\\n\u003cp\u003eReturns: 0\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"16\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e\\\"(1+1)*a\\\"\u003c/p\u003e\\n\u003cp\u003eReturns: 10\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"17\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e\\\"(1 + 0 * a) * c + (0 + 0 * b) * d\\\"\u003c/p\u003e\\n\u003cp\u003eReturns: 0\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"18\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e\\\"(256*256*256*256)*0\\\"\u003c/p\u003e\\n\u003cp\u003eReturns: 0\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"19\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e\\\"5 * d + 5 * b\\\" \u003c/p\u003e\\n\u003cp\u003eReturns: 21\u003c/p\u003e\\n\u003cp\u003eRemember that we are not applying the distributive property, so we cannot reduce this to \\\"5 * (d + b)\\\".\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"20\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e\\\"(65536*65536*65536*65536)*0\\\"\u003c/p\u003e\\n\u003cp\u003eReturns: 0\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"21\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e\\\"(a*5)*4+((a+4)+5)\\\"\u003c/p\u003e\\n\u003cp\u003eReturns: 12\u003c/p\u003e\\n\u003cp\u003eNote that we can first change this to \\\"a*(5*4)+(a+(4+5))\\\" and then to \\\"a*20+a+9\\\".\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"22\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e\\\"   (x)   +99+     1 +(11116+22919)\\\"\u003c/p\u003e\\n\u003cp\u003eReturns: 1\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"23\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e\\\"(a*5)*(b*6)\\\"\u003c/p\u003e\\n\u003cp\u003eReturns: 20\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"24\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e\\\"(1)+0+1*(w+6)*1\\\"\u003c/p\u003e\\n\u003cp\u003eReturns: 1\u003c/p\u003e\\n\u003cp\u003eWe can reduce this to \\\"w + 7\\\"\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"25\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e\\\"1+1*(w+1*(w+1*(w+1*(w+1*(w+1*(w+1*(w+1)))))))\\\"\u003c/p\u003e\\n\u003cp\u003eReturns: 7\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"26\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e\\\"00000000000000000000000000000000000000002000000000\\\"\u003c/p\u003e\\n\u003cp\u003eReturns: 0\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"27\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e\\\"(0*x+0+1+2*0*2*4*a*1+asdasd)+3*(1+a+0+b*1+b*21+1)\\\"\u003c/p\u003e\\n\u003cp\u003eReturns: 25\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"28\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e\\\"1*ante\\\"\u003c/p\u003e\\n\u003cp\u003eReturns: 0\u003c/p\u003e\"}}]}]]}]]}]]}],[\"$\",\"hr\",null,{}],[\"$\",\"span\",null,{\"children\":\"This problem statement is the exclusive and proprietary property of TopCoder, Inc. Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited. (c)2024, TopCoder, Inc. All rights reserved.\"}],[\"$\",\"hr\",null,{}]]}],[\"$\",\"section\",null,{\"children\":[[\"$\",\"span\",null,{\"children\":\"This problem was used for:\"}],[\"$\",\"div\",null,{\"children\":[\"$\",\"ul\",null,{\"children\":[[\"$\",\"li\",\"0\",{\"children\":[\"$\",\"a\",null,{\"href\":\"/ProblemDetail/rd/4482/pm/1574\",\"children\":[\"2003-\",\" \",\"TCCC '03 Round 4 \",\" - Division \",\"I\",\", \",\"Level Three\"]}]}]]}]}]]}]]}]\n"])</script></body></html>