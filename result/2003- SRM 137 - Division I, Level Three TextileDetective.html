<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" as="font" href="/_next/static/media/c9a5bc6a7c948fb0-s.p.woff2" crossorigin="" type="font/woff2"/><link rel="preload" as="font" href="/_next/static/media/92f44bb82993d879-s.p.woff2" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/d3df112486f97f47.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/ce229e8280b65b88.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/67cd89eb2f8905c7.css" data-precedence="next"/><link rel="preload" href="/_next/static/chunks/webpack-f608cced2fbc4acf.js" as="script" fetchPriority="low"/><script src="/_next/static/chunks/fd9d1056-44fe9588d0e5e7bc.js" async=""></script><script src="/_next/static/chunks/596-8d845297122c6823.js" async=""></script><script src="/_next/static/chunks/main-app-f07f8834a8b67325.js" async=""></script><title>TopCoder Statistics - Problem Statement</title><meta name="description" content="TopCoder Statistics - Problem Archive"/><link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="16x16"/><meta name="next-size-adjust"/><script src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js" noModule=""></script></head><body class="__className_aaf875"><main><h1><a href="/">Statistics</a></h1><h2>Problem Statement for &quot;<!-- -->TextileDetective<!-- -->&quot;</h2><section class="__className_c9cbed"><article><div><h3>Problem Statement</h3><div><p xmlns="http://topcoder.com">
A woven fabric is constructed from a series of parallel vertical threads (called <i>warp</i> threads) and a single horizontal
thread (called the <i>weft</i> thread) that passes back and forth in rows across the warp threads.  On each pass, the weft thread
passes in front of some warp threads and behind others.  At any given crossing of the weft thread and a warp thread, the thread
in front is the one that shows.
For example, consider the 4-by-3 fabric represented textually as
</p>
<pre xmlns="http://topcoder.com">
        AWC
        WBW
        AWC
        WBW
</pre>
There are three warp threads in this fabric, of colors A, B, and C, respectively.  The weft thread has color W.
In the first and third rows, the weft thread passes behind the A and C threads and in front of the B thread.  In the
second and fourth rows, the weft thread passes in front of the A and C threads and behind the B thread.

<p xmlns="http://topcoder.com">
A loom simplifies the weaving process by introducing a set of <i>harnesses</i>.  Each warp thread is attached to exactly one
harness, but a given harness may have many warp threads attached to it.  The warp threads attached to a harness need not be
adjacent.  A harness may be shifted forward, and that shifts all the warp threads attached to it forward as well.
This creates an opening between the warp threads whose harnesses have been shifted forward and the warp threads whose harnesses remain 
in the neutral postion.  The weft thread is passed through this opening to create one row of the fabric.  The weft thread crosses <i>behind</i> the warp threads whose harnesses have
been shifted forward and <i>in front of</i> the warp threads whose harnesses remain in the neutral position.  On the next row, some of the harnesses currently shifted forward may be moved back into the neutral position, and some of the harnesses currently in the neutral
position may be shifted forward.  Moving a harness has no effect on rows that have already been woven.
</p>

<p xmlns="http://topcoder.com">
For the threads of a fabric to interlock properly, no row can be woven with all the warp threads in the same position (either shifted forward or in the neutral position).  Similarly, no individual warp thread can stay in the same position for every row.
</p>

<p xmlns="http://topcoder.com">
Given a sample piece of fabric, your task is to determine the minimum number of
harnesses needed to weave that fabric.  Your method should take a <type>String[]</type>
representing a
piece of fabric and return the number of harnesses as an <type>int</type>.
The <type>String[]</type> representing a piece of fabric is always rectangular.
Each <type>String</type> represents the colors in a single row as a sequence of
uppercase letters ('A'-'Z').
</p>

<p xmlns="http://topcoder.com">
Consider again the 4-by-3 fabric sample described earlier
</p>
<pre xmlns="http://topcoder.com">
        AWC
        WBW
        AWC
        WBW
</pre>
This fabric could have been woven with three harnesses (one for each warp thread), but it could
also have been woven with two harnesses, with the A and C threads attached to harness 1
and the B thread attached to harness 2.  In the first and third rows, harness 1 was shifted forward
and harness 2 remained in the neutral position.  In the second and fourth rows, harness 1 was returned to
the neutral position and harness 2 was shifted forward.  Your method should return 2 for this fabric.

<p xmlns="http://topcoder.com">
Different threads can be the same color, but assume that no individual thread contains more than one color.
If, under this assumption, a fabric could not have been woven with the techniques described here, 
your method should return -1.
</p>
</div></div><div><h3>Definition</h3><dl><dt>Class:</dt><dd><span>TextileDetective</span></dd><dt>Method:</dt><dd><span>harnesses</span></dd><dt>Parameters:</dt><dd><span>String[]</span></dd><dt>Returns:</dt><dd><span>int</span></dd><dt>Method signature:</dt><dd><span>int harnesses(String[] fabric)</span></dd><dt>(be sure your method is public)</dt></dl></div><div><h3>Constraints</h3><ul><li><span>fabric contains between 2 and 20 elements, inclusive.</span></li><li><span>Each element of fabric contains the same number of characters (between 2 and 20, inclusive).</span></li><li><span>Each element of fabric contains only uppercase letters ('A'-'Z').</span></li></ul></div><div><h3>Examples</h3><ol><li><div><p>{ "AWC", 
  "WBW", 
  "AWC",
  "WBW" }</p>
<p>Returns: 2</p>
<p>The example above.</p></div></li><li><div><p>{ "AAAAA", 
  "BBBBB" }</p>
<p>Returns: -1</p>
<p>What color is the weft thread?  
If the weft thread is color B, then the warp threads are all color A and are all shifted forward on the first row, which is not allowed.
If the weft thread is color A, then the warp threads are all color B and are all
in the neutral position on the first row, which is also not allowed.
No solution is possible.
 </p></div></li><li><div><p>{ "BABA",
  "ABAB",
  "BACA" }</p>
<p>Returns: -1</p>
<p>There can be at most two colors per column: one for the warp thread and one for the weft thread.  In this fabric sample, the third column contains three colors.</p></div></li><li><div><p>{ "AAAA",
  "AAAA", 
  "AAAA" }</p>
<p>Returns: 2</p></div></li><li><div><p>{ "AB",
  "AB", 
  "AB" }
</p>
<p>Returns: -1</p></div></li><li><div><p>{ "XXOOOOOOOOOOOXX",
  "XXOOOOOOOOOOOXX",
  "XOAOOOWWWOBOOOX",
  "OXOAOOWOWOOBOXO",
  "XOOOAOWWWOOOBOX",
  "XXOOOOOOOOOOOXX",
  "XXOOOOOOOOOOOXX" }</p>
<p>Returns: 7</p></div></li><li><div><p>{ "ABC",
  "ABC",
  "ABC" }</p>
<p>Returns: -1</p></div></li><li><div><p>{ "ABCDEFGHIJKLMNOPQRST",
  "ABCDEFGHIQKLMNOPJRST",
  "ABJDEFGHIJKLMNOPQJST",
  "ABCDEFGHIQKLMNOPJRST",
  "JJJJJJJJJJKLMNOPJRST",
  "ABCDEFGHIQJJJJJJJJJJ",
  "ABJDEFGHIQKLMNOPJRSJ",
  "JBCDEJGHIQKJMNOPJRST",
  "ABCDEFGHIQKLMNOPJRST",
  "ABCJJJJHIQKLMNOPJRST",
  "ABCDEFGHIJJJJJOPJRST",
  "ABCDEFGHIQKLMNOPJRST",
  "AJJJJJJJJJKLMNOPJRST",
  "ABCDEFGHIQKLMNOPJRST",
  "ABCDEFGHIQKLMNOPJRST",
  "ABCDEFGHIQKLMNOPJRST",
  "ABCDJJJJJJJJJJJJJRST",
  "ABCDEFGHJJJJJJJJJRST",
  "ABCDEFGHIQKLJJJJJRST",
  "ABCJEFGHIJKLMNOPQRJJ" }
  </p>
<p>Returns: 17</p></div></li><li><div><p>{ "XXXXXXXXXXXXXXXXXXXX",
  "XXXXXXXXXXXXXXXXXXXX",
  "XOXOXOXOXOXOXOXOXOXX",
  "XOOXOOXOOXOOXOOXOOXX",
  "XOXOOXOOXOOXOOXOOXOX",
  "XXOOXOOXOOXOOXOOXOOX",
  "XXOXOXOXOXOXOXOXOXOX",
  "XXXXXXXXXXXXXXXXXXXX",
  "XXXXXXXXXXXXXXXXXXXX" }</p>
<p>Returns: 7</p></div></li><li><div><p>{ "AAAAAAAAAAAAAAA",
  "BCDEFGHIJKLMNOP" }</p>
<p>Returns: -1</p></div></li><li><div><p>{ "ABBAABBA",
  "ABABABAB",
  "AABBBBAA" }</p>
<p>Returns: -1</p></div></li><li><div><p>{ "ZZZZZ",
  "YZZZZ",
  "ZXZZZ",
  "ZZWZZ",
  "ZZZVZ" }</p>
<p>Returns: 5</p></div></li><li><div><p>{ "XXXXXXXXXXXXXXXXXXXX",
  "XABCDEFGHIJKLMNOPQRS",
  "XAXCXEXGXIXKXMXOXQXS",
  "XXBXDXFXHXJXLXNXPXRX",
  "XABXXEFXXIJXXMNXXQRS",
  "XXXCDXXGHXXKLXXOPXXS",
  "XABCDXXXXIJKLXXXXQRS",
  "XXXXXEFGHXXXXMNOPXXX",
  "XABCDEFGHXXXXXXXXQRS",
  "XXXXXXXXXIJKLMNOPQRX",
  "XXBXXEXXHXXKXXNXXQXX",
  "XAXCDXFGXIJXLMXOPXRS",
  "XXXCDEXXHIJXXMNOXXRS",
  "XXBXDXFXHXJXLXNXPXRX",
  "XXXXXXFGHIJKXXXXXXRS",
  "XABCDEXXXXXKLMNOPXXX",
  "XAXXDXXXHXXXXMXXXXXS",
  "XAXXDXXXXXXXXMXXXXXS",
  "XAXXDXXXHXXXXXXXXXXS",
  "XXXXXXXXXXXXXXXXXXXX" }</p>
<p>Returns: 20</p></div></li><li><div><p>{ "AAAAABBBBB",
  "BBBBBAAAAA" }</p>
<p>Returns: 2</p></div></li><li><div><p>{ "LABCDE",
  "LABCDE",
  "LABCDE",
  "LABCDE",
  "LLLLLL" }</p>
<p>Returns: 2</p></div></li><li><div><p>{ "LLLLLLLL",
  "LABLCDEL",
  "LABLCDEL",
  "LABLCDEL",
  "LABLCDEL",
  "LLLLLLLL" }</p>
<p>Returns: 2</p></div></li><li><div><p>{ "AA",
  "BA" }</p>
<p>Returns: 2</p></div></li><li><div><p>{ "ABCDEWWWWWABCDEWWWWW",
  "WWWWWABCDEWWWWWABCDE" }</p>
<p>Returns: 2</p></div></li><li><div><p>{ "AA", "AA", "AA", "AA", "AA", 
  "AA", "AA", "AA", "AA", "AA", 
  "AA", "AA", "AA", "AA", "AA", 
  "AA", "AA", "AA", "AA", "AA" }</p>
<p>Returns: 2</p></div></li><li><div><p>{ "ABCD",
  "BADC",
  "ABCD",
  "BADC" }
  </p>
<p>Returns: -1</p></div></li><li><div><p>{ "TWILLTWILL",
  "TWLLOTWLLO",
  "TLLQOTLLQO",
  "LLIQOLLIQO" }</p>
<p>Returns: 5</p></div></li><li><div><p>{ "AWC",  "WBW",  "AWC",  "WBW",  "WWW" }</p>
<p>Returns: -1</p></div></li><li><div><p>{ "AWW",  "WBW",  "WWW" }</p>
<p>Returns: 3</p></div></li><li><div><p>{ "AA",  "BC" }</p>
<p>Returns: -1</p></div></li><li><div><p>{ "XXXX",  "XXXX",  "XXXX",  "XXXY" }</p>
<p>Returns: 2</p></div></li><li><div><p>{ "CDE",  "CEE",  "EDE" }</p>
<p>Returns: 3</p></div></li><li><div><p>{ "AW",  "WW" }</p>
<p>Returns: 2</p></div></li><li><div><p>{ "WBC",  "AWC",  "ABW",  "ABC" }</p>
<p>Returns: -1</p></div></li></ol></div></article><hr/><span>This problem statement is the exclusive and proprietary property of TopCoder, Inc. Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited. (c)2024, TopCoder, Inc. All rights reserved.</span><hr/></section><section><span>This problem was used for:</span><div><ul><li><a href="/ProblemDetail/rd/4475/pm/1291">2003-<!-- --> <!-- -->SRM 137<!-- --> - Division <!-- -->I<!-- -->, <!-- -->Level Three</a></li></ul></div></section></main><script src="/_next/static/chunks/webpack-f608cced2fbc4acf.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/media/c9a5bc6a7c948fb0-s.p.woff2\",{\"as\":\"font\",\"type\":\"font/woff2\"}]\n2:HL[\"/_next/static/css/d3df112486f97f47.css\",{\"as\":\"style\"}]\n3:HL[\"/_next/static/css/ce229e8280b65b88.css\",{\"as\":\"style\"}]\n0:\"$L4\"\n"])</script><script>self.__next_f.push([1,"5:HL[\"/_next/static/media/92f44bb82993d879-s.p.woff2\",{\"as\":\"font\",\"type\":\"font/woff2\"}]\n6:HL[\"/_next/static/css/67cd89eb2f8905c7.css\",{\"as\":\"style\"}]\n"])</script><script>self.__next_f.push([1,"7:I{\"id\":7948,\"chunks\":[\"272:static/chunks/webpack-f608cced2fbc4acf.js\",\"971:static/chunks/fd9d1056-44fe9588d0e5e7bc.js\",\"596:static/chunks/596-8d845297122c6823.js\"],\"name\":\"default\",\"async\":false}\n9:I{\"id\":6628,\"chunks\":[\"272:static/chunks/webpack-f608cced2fbc4acf.js\",\"971:static/chunks/fd9d1056-44fe9588d0e5e7bc.js\",\"596:static/chunks/596-8d845297122c6823.js\"],\"name\":\"\",\"async\":false}\na:I{\"id\":7767,\"chunks\":[\"272:static/chunks/webpack-f608cced2fbc4acf.js\",\"971:static/chunks/fd9d1056-44fe9588d0e5e7bc.js\",\"5"])</script><script>self.__next_f.push([1,"96:static/chunks/596-8d845297122c6823.js\"],\"name\":\"default\",\"async\":false}\nb:I{\"id\":7920,\"chunks\":[\"272:static/chunks/webpack-f608cced2fbc4acf.js\",\"971:static/chunks/fd9d1056-44fe9588d0e5e7bc.js\",\"596:static/chunks/596-8d845297122c6823.js\"],\"name\":\"default\",\"async\":false}\ne:I{\"id\":1221,\"chunks\":[\"334:static/chunks/334-8828ae4f59410144.js\",\"185:static/chunks/app/layout-ec819519d0132115.js\"],\"name\":\"\",\"async\":false}\n"])</script><script>self.__next_f.push([1,"4:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/d3df112486f97f47.css\",\"precedence\":\"next\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/ce229e8280b65b88.css\",\"precedence\":\"next\"}]],[\"$\",\"$L7\",null,{\"buildId\":\"7VpN_WliezDw3Rx1lULsj\",\"assetPrefix\":\"\",\"initialCanonicalUrl\":\"/ProblemStatement/pm/1291/\",\"initialTree\":[\"\",{\"children\":[\"ProblemStatement\",{\"children\":[\"pm\",{\"children\":[[\"problemId\",\"1291\",\"d\"],{\"children\":[\"__PAGE__?{\\\"problemId\\\":\\\"1291\\\"}\",{}]}]}]}]},\"$undefined\",\"$undefined\",true],\"initialHead\":[false,\"$L8\"],\"globalErrorComponent\":\"$9\",\"children\":[null,[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"className\":\"__className_aaf875\",\"children\":[[\"$\",\"$La\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"template\":[\"$\",\"$Lb\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],\"notFoundStyles\":[],\"childProp\":{\"current\":[\"$\",\"$La\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"ProblemStatement\",\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"template\":[\"$\",\"$Lb\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[\"$\",\"$La\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"ProblemStatement\",\"children\",\"pm\",\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"template\":[\"$\",\"$Lb\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[\"$\",\"$La\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"ProblemStatement\",\"children\",\"pm\",\"children\",[\"problemId\",\"1291\",\"d\"],\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"template\":[\"$\",\"$Lb\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[\"$Lc\",\"$Ld\",null],\"segment\":\"__PAGE__?{\\\"problemId\\\":\\\"1291\\\"}\"},\"styles\":[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/67cd89eb2f8905c7.css\",\"precedence\":\"next\"}]]}],\"segment\":[\"problemId\",\"1291\",\"d\"]},\"styles\":[]}],\"segment\":\"pm\"},\"styles\":[]}],\"segment\":\"ProblemStatement\"},\"styles\":[]}],[\"$\",\"$Le\",null,{}]]}]}],null]}]]\n"])</script><script>self.__next_f.push([1,"8:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"1\",{\"children\":\"TopCoder Statistics - Problem Statement\"}],[\"$\",\"meta\",\"2\",{\"name\":\"description\",\"content\":\"TopCoder Statistics - Problem Archive\"}],[\"$\",\"meta\",\"3\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"link\",\"4\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"16x16\"}],[\"$\",\"meta\",\"5\",{\"name\":\"next-size-adjust\"}]]\nc:null\nf:Teb2,"])</script><script>self.__next_f.push([1,"\u003cp xmlns=\"http://topcoder.com\"\u003e\nA woven fabric is constructed from a series of parallel vertical threads (called \u003ci\u003ewarp\u003c/i\u003e threads) and a single horizontal\nthread (called the \u003ci\u003eweft\u003c/i\u003e thread) that passes back and forth in rows across the warp threads.  On each pass, the weft thread\npasses in front of some warp threads and behind others.  At any given crossing of the weft thread and a warp thread, the thread\nin front is the one that shows.\nFor example, consider the 4-by-3 fabric represented textually as\n\u003c/p\u003e\n\u003cpre xmlns=\"http://topcoder.com\"\u003e\n        AWC\n        WBW\n        AWC\n        WBW\n\u003c/pre\u003e\nThere are three warp threads in this fabric, of colors A, B, and C, respectively.  The weft thread has color W.\nIn the first and third rows, the weft thread passes behind the A and C threads and in front of the B thread.  In the\nsecond and fourth rows, the weft thread passes in front of the A and C threads and behind the B thread.\n\n\u003cp xmlns=\"http://topcoder.com\"\u003e\nA loom simplifies the weaving process by introducing a set of \u003ci\u003eharnesses\u003c/i\u003e.  Each warp thread is attached to exactly one\nharness, but a given harness may have many warp threads attached to it.  The warp threads attached to a harness need not be\nadjacent.  A harness may be shifted forward, and that shifts all the warp threads attached to it forward as well.\nThis creates an opening between the warp threads whose harnesses have been shifted forward and the warp threads whose harnesses remain \nin the neutral postion.  The weft thread is passed through this opening to create one row of the fabric.  The weft thread crosses \u003ci\u003ebehind\u003c/i\u003e the warp threads whose harnesses have\nbeen shifted forward and \u003ci\u003ein front of\u003c/i\u003e the warp threads whose harnesses remain in the neutral position.  On the next row, some of the harnesses currently shifted forward may be moved back into the neutral position, and some of the harnesses currently in the neutral\nposition may be shifted forward.  Moving a harness has no effect on rows that have already been woven.\n\u003c/p\u003e\n\n\u003cp xmlns=\"http://topcoder.com\"\u003e\nFor the threads of a fabric to interlock properly, no row can be woven with all the warp threads in the same position (either shifted forward or in the neutral position).  Similarly, no individual warp thread can stay in the same position for every row.\n\u003c/p\u003e\n\n\u003cp xmlns=\"http://topcoder.com\"\u003e\nGiven a sample piece of fabric, your task is to determine the minimum number of\nharnesses needed to weave that fabric.  Your method should take a \u003ctype\u003eString[]\u003c/type\u003e\nrepresenting a\npiece of fabric and return the number of harnesses as an \u003ctype\u003eint\u003c/type\u003e.\nThe \u003ctype\u003eString[]\u003c/type\u003e representing a piece of fabric is always rectangular.\nEach \u003ctype\u003eString\u003c/type\u003e represents the colors in a single row as a sequence of\nuppercase letters ('A'-'Z').\n\u003c/p\u003e\n\n\u003cp xmlns=\"http://topcoder.com\"\u003e\nConsider again the 4-by-3 fabric sample described earlier\n\u003c/p\u003e\n\u003cpre xmlns=\"http://topcoder.com\"\u003e\n        AWC\n        WBW\n        AWC\n        WBW\n\u003c/pre\u003e\nThis fabric could have been woven with three harnesses (one for each warp thread), but it could\nalso have been woven with two harnesses, with the A and C threads attached to harness 1\nand the B thread attached to harness 2.  In the first and third rows, harness 1 was shifted forward\nand harness 2 remained in the neutral position.  In the second and fourth rows, harness 1 was returned to\nthe neutral position and harness 2 was shifted forward.  Your method should return 2 for this fabric.\n\n\u003cp xmlns=\"http://topcoder.com\"\u003e\nDifferent threads can be the same color, but assume that no individual thread contains more than one color.\nIf, under this assumption, a fabric could not have been woven with the techniques described here, \nyour method should return -1.\n\u003c/p\u003e\n"])</script><script>self.__next_f.push([1,"d:[\"$\",\"main\",null,{\"children\":[[\"$\",\"h1\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"/\",\"children\":\"Statistics\"}]}],[\"$\",\"h2\",null,{\"children\":[\"Problem Statement for \\\"\",\"TextileDetective\",\"\\\"\"]}],[\"$\",\"section\",null,{\"className\":\"__className_c9cbed\",\"children\":[[\"$\",\"article\",null,{\"children\":[[\"$\",\"div\",null,{\"children\":[[\"$\",\"h3\",null,{\"children\":\"Problem Statement\"}],[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"$f\"}}]]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"h3\",null,{\"children\":\"Definition\"}],[\"$\",\"dl\",null,{\"children\":[[\"$\",\"dt\",null,{\"children\":\"Class:\"}],[\"$\",\"dd\",null,{\"children\":[\"$\",\"span\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"TextileDetective\"}}]}],[\"$\",\"dt\",null,{\"children\":\"Method:\"}],[\"$\",\"dd\",null,{\"children\":[\"$\",\"span\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"harnesses\"}}]}],[\"$\",\"dt\",null,{\"children\":\"Parameters:\"}],[\"$\",\"dd\",null,{\"children\":[\"$\",\"span\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"String[]\"}}]}],[\"$\",\"dt\",null,{\"children\":\"Returns:\"}],[\"$\",\"dd\",null,{\"children\":[\"$\",\"span\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"int\"}}]}],[\"$\",\"dt\",null,{\"children\":\"Method signature:\"}],[\"$\",\"dd\",null,{\"children\":[\"$\",\"span\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"int harnesses(String[] fabric)\"}}]}],[\"$\",\"dt\",null,{\"children\":\"(be sure your method is public)\"}]]}]]}],null,[\"$\",\"div\",null,{\"children\":[[\"$\",\"h3\",null,{\"children\":\"Constraints\"}],[\"$\",\"ul\",null,{\"children\":[[\"$\",\"li\",\"0\",{\"children\":[\"$\",\"span\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"fabric contains between 2 and 20 elements, inclusive.\"}}]}],[\"$\",\"li\",\"1\",{\"children\":[\"$\",\"span\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"Each element of fabric contains the same number of characters (between 2 and 20, inclusive).\"}}]}],[\"$\",\"li\",\"2\",{\"children\":[\"$\",\"span\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"Each element of fabric contains only uppercase letters ('A'-'Z').\"}}]}]]}]]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"h3\",null,{\"children\":\"Examples\"}],[\"$\",\"ol\",null,{\"children\":[[\"$\",\"li\",\"0\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e{ \\\"AWC\\\", \\n  \\\"WBW\\\", \\n  \\\"AWC\\\",\\n  \\\"WBW\\\" }\u003c/p\u003e\\n\u003cp\u003eReturns: 2\u003c/p\u003e\\n\u003cp\u003eThe example above.\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"1\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e{ \\\"AAAAA\\\", \\n  \\\"BBBBB\\\" }\u003c/p\u003e\\n\u003cp\u003eReturns: -1\u003c/p\u003e\\n\u003cp\u003eWhat color is the weft thread?  \\nIf the weft thread is color B, then the warp threads are all color A and are all shifted forward on the first row, which is not allowed.\\nIf the weft thread is color A, then the warp threads are all color B and are all\\nin the neutral position on the first row, which is also not allowed.\\nNo solution is possible.\\n \u003c/p\u003e\"}}]}],[\"$\",\"li\",\"2\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e{ \\\"BABA\\\",\\n  \\\"ABAB\\\",\\n  \\\"BACA\\\" }\u003c/p\u003e\\n\u003cp\u003eReturns: -1\u003c/p\u003e\\n\u003cp\u003eThere can be at most two colors per column: one for the warp thread and one for the weft thread.  In this fabric sample, the third column contains three colors.\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"3\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e{ \\\"AAAA\\\",\\n  \\\"AAAA\\\", \\n  \\\"AAAA\\\" }\u003c/p\u003e\\n\u003cp\u003eReturns: 2\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"4\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e{ \\\"AB\\\",\\n  \\\"AB\\\", \\n  \\\"AB\\\" }\\n\u003c/p\u003e\\n\u003cp\u003eReturns: -1\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"5\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e{ \\\"XXOOOOOOOOOOOXX\\\",\\n  \\\"XXOOOOOOOOOOOXX\\\",\\n  \\\"XOAOOOWWWOBOOOX\\\",\\n  \\\"OXOAOOWOWOOBOXO\\\",\\n  \\\"XOOOAOWWWOOOBOX\\\",\\n  \\\"XXOOOOOOOOOOOXX\\\",\\n  \\\"XXOOOOOOOOOOOXX\\\" }\u003c/p\u003e\\n\u003cp\u003eReturns: 7\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"6\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e{ \\\"ABC\\\",\\n  \\\"ABC\\\",\\n  \\\"ABC\\\" }\u003c/p\u003e\\n\u003cp\u003eReturns: -1\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"7\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e{ \\\"ABCDEFGHIJKLMNOPQRST\\\",\\n  \\\"ABCDEFGHIQKLMNOPJRST\\\",\\n  \\\"ABJDEFGHIJKLMNOPQJST\\\",\\n  \\\"ABCDEFGHIQKLMNOPJRST\\\",\\n  \\\"JJJJJJJJJJKLMNOPJRST\\\",\\n  \\\"ABCDEFGHIQJJJJJJJJJJ\\\",\\n  \\\"ABJDEFGHIQKLMNOPJRSJ\\\",\\n  \\\"JBCDEJGHIQKJMNOPJRST\\\",\\n  \\\"ABCDEFGHIQKLMNOPJRST\\\",\\n  \\\"ABCJJJJHIQKLMNOPJRST\\\",\\n  \\\"ABCDEFGHIJJJJJOPJRST\\\",\\n  \\\"ABCDEFGHIQKLMNOPJRST\\\",\\n  \\\"AJJJJJJJJJKLMNOPJRST\\\",\\n  \\\"ABCDEFGHIQKLMNOPJRST\\\",\\n  \\\"ABCDEFGHIQKLMNOPJRST\\\",\\n  \\\"ABCDEFGHIQKLMNOPJRST\\\",\\n  \\\"ABCDJJJJJJJJJJJJJRST\\\",\\n  \\\"ABCDEFGHJJJJJJJJJRST\\\",\\n  \\\"ABCDEFGHIQKLJJJJJRST\\\",\\n  \\\"ABCJEFGHIJKLMNOPQRJJ\\\" }\\n  \u003c/p\u003e\\n\u003cp\u003eReturns: 17\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"8\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e{ \\\"XXXXXXXXXXXXXXXXXXXX\\\",\\n  \\\"XXXXXXXXXXXXXXXXXXXX\\\",\\n  \\\"XOXOXOXOXOXOXOXOXOXX\\\",\\n  \\\"XOOXOOXOOXOOXOOXOOXX\\\",\\n  \\\"XOXOOXOOXOOXOOXOOXOX\\\",\\n  \\\"XXOOXOOXOOXOOXOOXOOX\\\",\\n  \\\"XXOXOXOXOXOXOXOXOXOX\\\",\\n  \\\"XXXXXXXXXXXXXXXXXXXX\\\",\\n  \\\"XXXXXXXXXXXXXXXXXXXX\\\" }\u003c/p\u003e\\n\u003cp\u003eReturns: 7\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"9\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e{ \\\"AAAAAAAAAAAAAAA\\\",\\n  \\\"BCDEFGHIJKLMNOP\\\" }\u003c/p\u003e\\n\u003cp\u003eReturns: -1\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"10\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e{ \\\"ABBAABBA\\\",\\n  \\\"ABABABAB\\\",\\n  \\\"AABBBBAA\\\" }\u003c/p\u003e\\n\u003cp\u003eReturns: -1\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"11\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e{ \\\"ZZZZZ\\\",\\n  \\\"YZZZZ\\\",\\n  \\\"ZXZZZ\\\",\\n  \\\"ZZWZZ\\\",\\n  \\\"ZZZVZ\\\" }\u003c/p\u003e\\n\u003cp\u003eReturns: 5\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"12\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e{ \\\"XXXXXXXXXXXXXXXXXXXX\\\",\\n  \\\"XABCDEFGHIJKLMNOPQRS\\\",\\n  \\\"XAXCXEXGXIXKXMXOXQXS\\\",\\n  \\\"XXBXDXFXHXJXLXNXPXRX\\\",\\n  \\\"XABXXEFXXIJXXMNXXQRS\\\",\\n  \\\"XXXCDXXGHXXKLXXOPXXS\\\",\\n  \\\"XABCDXXXXIJKLXXXXQRS\\\",\\n  \\\"XXXXXEFGHXXXXMNOPXXX\\\",\\n  \\\"XABCDEFGHXXXXXXXXQRS\\\",\\n  \\\"XXXXXXXXXIJKLMNOPQRX\\\",\\n  \\\"XXBXXEXXHXXKXXNXXQXX\\\",\\n  \\\"XAXCDXFGXIJXLMXOPXRS\\\",\\n  \\\"XXXCDEXXHIJXXMNOXXRS\\\",\\n  \\\"XXBXDXFXHXJXLXNXPXRX\\\",\\n  \\\"XXXXXXFGHIJKXXXXXXRS\\\",\\n  \\\"XABCDEXXXXXKLMNOPXXX\\\",\\n  \\\"XAXXDXXXHXXXXMXXXXXS\\\",\\n  \\\"XAXXDXXXXXXXXMXXXXXS\\\",\\n  \\\"XAXXDXXXHXXXXXXXXXXS\\\",\\n  \\\"XXXXXXXXXXXXXXXXXXXX\\\" }\u003c/p\u003e\\n\u003cp\u003eReturns: 20\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"13\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e{ \\\"AAAAABBBBB\\\",\\n  \\\"BBBBBAAAAA\\\" }\u003c/p\u003e\\n\u003cp\u003eReturns: 2\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"14\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e{ \\\"LABCDE\\\",\\n  \\\"LABCDE\\\",\\n  \\\"LABCDE\\\",\\n  \\\"LABCDE\\\",\\n  \\\"LLLLLL\\\" }\u003c/p\u003e\\n\u003cp\u003eReturns: 2\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"15\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e{ \\\"LLLLLLLL\\\",\\n  \\\"LABLCDEL\\\",\\n  \\\"LABLCDEL\\\",\\n  \\\"LABLCDEL\\\",\\n  \\\"LABLCDEL\\\",\\n  \\\"LLLLLLLL\\\" }\u003c/p\u003e\\n\u003cp\u003eReturns: 2\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"16\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e{ \\\"AA\\\",\\n  \\\"BA\\\" }\u003c/p\u003e\\n\u003cp\u003eReturns: 2\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"17\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e{ \\\"ABCDEWWWWWABCDEWWWWW\\\",\\n  \\\"WWWWWABCDEWWWWWABCDE\\\" }\u003c/p\u003e\\n\u003cp\u003eReturns: 2\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"18\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e{ \\\"AA\\\", \\\"AA\\\", \\\"AA\\\", \\\"AA\\\", \\\"AA\\\", \\n  \\\"AA\\\", \\\"AA\\\", \\\"AA\\\", \\\"AA\\\", \\\"AA\\\", \\n  \\\"AA\\\", \\\"AA\\\", \\\"AA\\\", \\\"AA\\\", \\\"AA\\\", \\n  \\\"AA\\\", \\\"AA\\\", \\\"AA\\\", \\\"AA\\\", \\\"AA\\\" }\u003c/p\u003e\\n\u003cp\u003eReturns: 2\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"19\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e{ \\\"ABCD\\\",\\n  \\\"BADC\\\",\\n  \\\"ABCD\\\",\\n  \\\"BADC\\\" }\\n  \u003c/p\u003e\\n\u003cp\u003eReturns: -1\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"20\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e{ \\\"TWILLTWILL\\\",\\n  \\\"TWLLOTWLLO\\\",\\n  \\\"TLLQOTLLQO\\\",\\n  \\\"LLIQOLLIQO\\\" }\u003c/p\u003e\\n\u003cp\u003eReturns: 5\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"21\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e{ \\\"AWC\\\",  \\\"WBW\\\",  \\\"AWC\\\",  \\\"WBW\\\",  \\\"WWW\\\" }\u003c/p\u003e\\n\u003cp\u003eReturns: -1\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"22\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e{ \\\"AWW\\\",  \\\"WBW\\\",  \\\"WWW\\\" }\u003c/p\u003e\\n\u003cp\u003eReturns: 3\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"23\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e{ \\\"AA\\\",  \\\"BC\\\" }\u003c/p\u003e\\n\u003cp\u003eReturns: -1\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"24\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e{ \\\"XXXX\\\",  \\\"XXXX\\\",  \\\"XXXX\\\",  \\\"XXXY\\\" }\u003c/p\u003e\\n\u003cp\u003eReturns: 2\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"25\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e{ \\\"CDE\\\",  \\\"CEE\\\",  \\\"EDE\\\" }\u003c/p\u003e\\n\u003cp\u003eReturns: 3\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"26\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e{ \\\"AW\\\",  \\\"WW\\\" }\u003c/p\u003e\\n\u003cp\u003eReturns: 2\u003c/p\u003e\"}}]}],[\"$\",\"li\",\"27\",{\"children\":[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\u003cp\u003e{ \\\"WBC\\\",  \\\"AWC\\\",  \\\"ABW\\\",  \\\"ABC\\\" }\u003c/p\u003e\\n\u003cp\u003eReturns: -1\u003c/p\u003e\"}}]}]]}]]}]]}],[\"$\",\"hr\",null,{}],[\"$\",\"span\",null,{\"children\":\"This problem statement is the exclusive and proprietary property of TopCoder, Inc. Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited. (c)2024, TopCoder, Inc. All rights reserved.\"}],[\"$\",\"hr\",null,{}]]}],[\"$\",\"section\",null,{\"children\":[[\"$\",\"span\",null,{\"children\":\"This problem was used for:\"}],[\"$\",\"div\",null,{\"children\":[\"$\",\"ul\",null,{\"children\":[[\"$\",\"li\",\"0\",{\"children\":[\"$\",\"a\",null,{\"href\":\"/ProblemDetail/rd/4475/pm/1291\",\"children\":[\"2003-\",\" \",\"SRM 137\",\" - Division \",\"I\",\", \",\"Level Three\"]}]}]]}]}]]}]]}]\n"])</script></body></html>