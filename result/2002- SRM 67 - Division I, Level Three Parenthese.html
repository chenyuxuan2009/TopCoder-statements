<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" as="font" href="/_next/static/media/c9a5bc6a7c948fb0-s.p.woff2" crossorigin="" type="font/woff2"/><link rel="preload" as="font" href="/_next/static/media/92f44bb82993d879-s.p.woff2" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/d3df112486f97f47.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/ce229e8280b65b88.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/67cd89eb2f8905c7.css" data-precedence="next"/><link rel="preload" href="/_next/static/chunks/webpack-f608cced2fbc4acf.js" as="script" fetchPriority="low"/><script src="/_next/static/chunks/fd9d1056-44fe9588d0e5e7bc.js" async=""></script><script src="/_next/static/chunks/596-8d845297122c6823.js" async=""></script><script src="/_next/static/chunks/main-app-f07f8834a8b67325.js" async=""></script><title>TopCoder Statistics - Problem Statement</title><meta name="description" content="TopCoder Statistics - Problem Archive"/><link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="16x16"/><meta name="next-size-adjust"/><script src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js" noModule=""></script></head><body class="__className_aaf875"><main><h1><a href="/">Statistics</a></h1><h2>Problem Statement for &quot;<!-- -->Parenthese<!-- -->&quot;</h2><section class="__className_c9cbed"><article><div><h3>Problem Statement</h3><div><pre xmlns="http://topcoder.com">PROBLEM STATEMENT
When a mathematical expression is evaluated parentheses are evaluated from the
deepest nest out.  Thus in the expression (1 + (2 * 3)), 2 * 3 is evaluated to
6 before being added to 1.  However, sometimes people make untrue assumptions
about the order in which an expression should be evaluated.

You will be given a mathematical expression containing the operators '+', '-',
'*', '%' and integers (or possibly no operators and just one integer).  The
expression will be entirely unparenthesized.  Your job is to determine the
result of every possible parenthesization of the expression and determine how
many of the results are distinct.

The '%' operator is the modulus operator.  a % b is defined as the remainder
when a is divided by b.  Thus 7 % 3 = 1.
If a is negative, then the result of the operator should be the negative result
of (-a) % b.  Thus, -5 % 3 = -(-(-5) % 3) = -(5 % 3) = -2
If b is negative, it is treated the same as though it were positive.
If b == 0, the operator is undefined and that particular parethesization should
not be evaluated. (see example 2)

The input expression will be formatted as follows:
&lt;expression&gt; ::= &lt;num&gt; | &lt;num&gt;&lt;sp&gt;&lt;op&gt;&lt;sp&gt;&lt;expression&gt;
&lt;op&gt; ::= '-' | '+' | '*' | '%'
&lt;num&gt; ::= a postive integer
&lt;sp&gt; ::= ' '

After an expression has been parenthesized, it will conform to the following
grammar:
&lt;parenthesized&gt; ::= &lt;num&gt; | '('&lt;parenthesized&gt;&lt;op&gt;&lt;parenthesized&gt;')'

Thus, a parenthesized expression can only contain either two numbers, a number
and another parenthesized expression, or two parenthesized expressions.  See
example 1 for an example of how an expression can be parenthesized.

DEFINITION
Class: Parenthese
Parameters: String
Returns: int
Method signature (be sure your method is public):  int countInts(String
expression);

NOTES
- Assume nothing about order of operations.  Each parenthesization must be such
that there is absolutely no ambiguity about the order in which the operations
should be performed.  Although 1 * 2 + 3 would normally be evaluated as (1 * 2)
+ 3, given standard precedence rules, you must consider the case 1 * (2 + 3) as
well.

TopCoder will ensure the validity of the inputs.  Inputs are valid if all of
the following criteria are met:
- expression contains only the operators '+', '-', '*', '%', and digits 0 to 9,
inclusive
- there will be between 1 and 13 numbers, inclusive
- every pair of adjacent numbers will be separated by exactly one spaces, an
operator and exactly one more space
- all numbers will be integers in the range 0 to 99 (inclusive)
- all parenthesizations and subparenthesizations will result in numbers between
-(2^31) and (2^31)-1, inclusive
- expression will not begin or end with an operator
- expression will not begin or end with a space
- numbers will not have leading '0's, unless they are 0.  i.e. 001 and 00 are
NOT valid numbers

EXAMPLES
1. expression = "1 % 2 + 3 * 4"
there are 5 possible parenthesizations:
(1 % 2) + (3 * 4) = 13
1 % (2 + (3 * 4)) = 1
1 % ((2 + 3) * 4) = 1
((1 % 2) + 3) * 4 = 16
(1 % (2 + 3)) * 4 = 4

there are 4 distinct values, so the method should return 4.

2. expression = "1 % 1 - 1"
(1 % 1) - 1  = -1
1 % (1 - 1) = 1 % 0.  We do not evaluate expressions with a 0 on the right hand
side of the '%', so we simply skip this one. Thus the method returns 1

3. expression = "1 % 2 + 3 * 4 - 5"
can be parenthesized to give any number in the set: {-4,-2,-1,0,1,8,11}, thus
the method returns 7.

4. expression = "1 + 2 + 3 + 4" returns 1
5. expression = "11 * 11 - 6 + 6" returns 4
6. expression = "1 % 10 * 10 * 10 * 10 * 10 * 10 * 10 * 11 * 9" returns 9
7. expression = "3" returns 1
</pre></div></div><div><h3>Definition</h3><dl><dt>Class:</dt><dd><span>Parenthese</span></dd><dt>Method:</dt><dd><span>countInts</span></dd><dt>Parameters:</dt><dd><span>String</span></dd><dt>Returns:</dt><dd><span>int</span></dd><dt>Method signature:</dt><dd><span>int countInts(String param0)</span></dd><dt>(be sure your method is public)</dt></dl></div><div><h3>Constraints</h3><ul></ul></div><div><h3>Examples</h3><ol></ol></div></article><hr/><span>This problem statement is the exclusive and proprietary property of TopCoder, Inc. Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited. (c)2024, TopCoder, Inc. All rights reserved.</span><hr/></section><section><span>This problem was used for:</span><div><ul><li><a href="/ProblemDetail/rd/4065/pm/424">2002-<!-- --> <!-- -->SRM 67<!-- --> - Division <!-- -->I<!-- -->, <!-- -->Level Three</a></li></ul></div></section></main><script src="/_next/static/chunks/webpack-f608cced2fbc4acf.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/media/c9a5bc6a7c948fb0-s.p.woff2\",{\"as\":\"font\",\"type\":\"font/woff2\"}]\n2:HL[\"/_next/static/css/d3df112486f97f47.css\",{\"as\":\"style\"}]\n3:HL[\"/_next/static/css/ce229e8280b65b88.css\",{\"as\":\"style\"}]\n0:\"$L4\"\n"])</script><script>self.__next_f.push([1,"5:HL[\"/_next/static/media/92f44bb82993d879-s.p.woff2\",{\"as\":\"font\",\"type\":\"font/woff2\"}]\n6:HL[\"/_next/static/css/67cd89eb2f8905c7.css\",{\"as\":\"style\"}]\n"])</script><script>self.__next_f.push([1,"7:I{\"id\":7948,\"chunks\":[\"272:static/chunks/webpack-f608cced2fbc4acf.js\",\"971:static/chunks/fd9d1056-44fe9588d0e5e7bc.js\",\"596:static/chunks/596-8d845297122c6823.js\"],\"name\":\"default\",\"async\":false}\n9:I{\"id\":6628,\"chunks\":[\"272:static/chunks/webpack-f608cced2fbc4acf.js\",\"971:static/chunks/fd9d1056-44fe9588d0e5e7bc.js\",\"596:static/chunks/596-8d845297122c6823.js\"],\"name\":\"\",\"async\":false}\na:I{\"id\":7767,\"chunks\":[\"272:static/chunks/webpack-f608cced2fbc4acf.js\",\"971:static/chunks/fd9d1056-44fe9588d0e5e7bc.js\",\"5"])</script><script>self.__next_f.push([1,"96:static/chunks/596-8d845297122c6823.js\"],\"name\":\"default\",\"async\":false}\nb:I{\"id\":7920,\"chunks\":[\"272:static/chunks/webpack-f608cced2fbc4acf.js\",\"971:static/chunks/fd9d1056-44fe9588d0e5e7bc.js\",\"596:static/chunks/596-8d845297122c6823.js\"],\"name\":\"default\",\"async\":false}\ne:I{\"id\":1221,\"chunks\":[\"334:static/chunks/334-8828ae4f59410144.js\",\"185:static/chunks/app/layout-ec819519d0132115.js\"],\"name\":\"\",\"async\":false}\n"])</script><script>self.__next_f.push([1,"4:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/d3df112486f97f47.css\",\"precedence\":\"next\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/ce229e8280b65b88.css\",\"precedence\":\"next\"}]],[\"$\",\"$L7\",null,{\"buildId\":\"7VpN_WliezDw3Rx1lULsj\",\"assetPrefix\":\"\",\"initialCanonicalUrl\":\"/ProblemStatement/pm/424/\",\"initialTree\":[\"\",{\"children\":[\"ProblemStatement\",{\"children\":[\"pm\",{\"children\":[[\"problemId\",\"424\",\"d\"],{\"children\":[\"__PAGE__?{\\\"problemId\\\":\\\"424\\\"}\",{}]}]}]}]},\"$undefined\",\"$undefined\",true],\"initialHead\":[false,\"$L8\"],\"globalErrorComponent\":\"$9\",\"children\":[null,[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"className\":\"__className_aaf875\",\"children\":[[\"$\",\"$La\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"template\":[\"$\",\"$Lb\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],\"notFoundStyles\":[],\"childProp\":{\"current\":[\"$\",\"$La\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"ProblemStatement\",\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"template\":[\"$\",\"$Lb\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[\"$\",\"$La\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"ProblemStatement\",\"children\",\"pm\",\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"template\":[\"$\",\"$Lb\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[\"$\",\"$La\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"ProblemStatement\",\"children\",\"pm\",\"children\",[\"problemId\",\"424\",\"d\"],\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"template\":[\"$\",\"$Lb\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[\"$Lc\",\"$Ld\",null],\"segment\":\"__PAGE__?{\\\"problemId\\\":\\\"424\\\"}\"},\"styles\":[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/67cd89eb2f8905c7.css\",\"precedence\":\"next\"}]]}],\"segment\":[\"problemId\",\"424\",\"d\"]},\"styles\":[]}],\"segment\":\"pm\"},\"styles\":[]}],\"segment\":\"ProblemStatement\"},\"styles\":[]}],[\"$\",\"$Le\",null,{}]]}]}],null]}]]\n"])</script><script>self.__next_f.push([1,"8:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"1\",{\"children\":\"TopCoder Statistics - Problem Statement\"}],[\"$\",\"meta\",\"2\",{\"name\":\"description\",\"content\":\"TopCoder Statistics - Problem Archive\"}],[\"$\",\"meta\",\"3\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"link\",\"4\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"16x16\"}],[\"$\",\"meta\",\"5\",{\"name\":\"next-size-adjust\"}]]\nc:null\n"])</script><script>self.__next_f.push([1,"f:Tec6,"])</script><script>self.__next_f.push([1,"\u003cpre xmlns=\"http://topcoder.com\"\u003ePROBLEM STATEMENT\nWhen a mathematical expression is evaluated parentheses are evaluated from the\ndeepest nest out.  Thus in the expression (1 + (2 * 3)), 2 * 3 is evaluated to\n6 before being added to 1.  However, sometimes people make untrue assumptions\nabout the order in which an expression should be evaluated.\n\nYou will be given a mathematical expression containing the operators '+', '-',\n'*', '%' and integers (or possibly no operators and just one integer).  The\nexpression will be entirely unparenthesized.  Your job is to determine the\nresult of every possible parenthesization of the expression and determine how\nmany of the results are distinct.\n\nThe '%' operator is the modulus operator.  a % b is defined as the remainder\nwhen a is divided by b.  Thus 7 % 3 = 1.\nIf a is negative, then the result of the operator should be the negative result\nof (-a) % b.  Thus, -5 % 3 = -(-(-5) % 3) = -(5 % 3) = -2\nIf b is negative, it is treated the same as though it were positive.\nIf b == 0, the operator is undefined and that particular parethesization should\nnot be evaluated. (see example 2)\n\nThe input expression will be formatted as follows:\n\u0026lt;expression\u0026gt; ::= \u0026lt;num\u0026gt; | \u0026lt;num\u0026gt;\u0026lt;sp\u0026gt;\u0026lt;op\u0026gt;\u0026lt;sp\u0026gt;\u0026lt;expression\u0026gt;\n\u0026lt;op\u0026gt; ::= '-' | '+' | '*' | '%'\n\u0026lt;num\u0026gt; ::= a postive integer\n\u0026lt;sp\u0026gt; ::= ' '\n\nAfter an expression has been parenthesized, it will conform to the following\ngrammar:\n\u0026lt;parenthesized\u0026gt; ::= \u0026lt;num\u0026gt; | '('\u0026lt;parenthesized\u0026gt;\u0026lt;op\u0026gt;\u0026lt;parenthesized\u0026gt;')'\n\nThus, a parenthesized expression can only contain either two numbers, a number\nand another parenthesized expression, or two parenthesized expressions.  See\nexample 1 for an example of how an expression can be parenthesized.\n\nDEFINITION\nClass: Parenthese\nParameters: String\nReturns: int\nMethod signature (be sure your method is public):  int countInts(String\nexpression);\n\nNOTES\n- Assume nothing about order of operations.  Each parenthesization must be such\nthat there is absolutely no ambiguity about the order in which the operations\nshould be performed.  Although 1 * 2 + 3 would normally be evaluated as (1 * 2)\n+ 3, given standard precedence rules, you must consider the case 1 * (2 + 3) as\nwell.\n\nTopCoder will ensure the validity of the inputs.  Inputs are valid if all of\nthe following criteria are met:\n- expression contains only the operators '+', '-', '*', '%', and digits 0 to 9,\ninclusive\n- there will be between 1 and 13 numbers, inclusive\n- every pair of adjacent numbers will be separated by exactly one spaces, an\noperator and exactly one more space\n- all numbers will be integers in the range 0 to 99 (inclusive)\n- all parenthesizations and subparenthesizations will result in numbers between\n-(2^31) and (2^31)-1, inclusive\n- expression will not begin or end with an operator\n- expression will not begin or end with a space\n- numbers will not have leading '0's, unless they are 0.  i.e. 001 and 00 are\nNOT valid numbers\n\nEXAMPLES\n1. expression = \"1 % 2 + 3 * 4\"\nthere are 5 possible parenthesizations:\n(1 % 2) + (3 * 4) = 13\n1 % (2 + (3 * 4)) = 1\n1 % ((2 + 3) * 4) = 1\n((1 % 2) + 3) * 4 = 16\n(1 % (2 + 3)) * 4 = 4\n\nthere are 4 distinct values, so the method should return 4.\n\n2. expression = \"1 % 1 - 1\"\n(1 % 1) - 1  = -1\n1 % (1 - 1) = 1 % 0.  We do not evaluate expressions with a 0 on the right hand\nside of the '%', so we simply skip this one. Thus the method returns 1\n\n3. expression = \"1 % 2 + 3 * 4 - 5\"\ncan be parenthesized to give any number in the set: {-4,-2,-1,0,1,8,11}, thus\nthe method returns 7.\n\n4. expression = \"1 + 2 + 3 + 4\" returns 1\n5. expression = \"11 * 11 - 6 + 6\" returns 4\n6. expression = \"1 % 10 * 10 * 10 * 10 * 10 * 10 * 10 * 11 * 9\" returns 9\n7. expression = \"3\" returns 1\n\u003c/pre\u003e"])</script><script>self.__next_f.push([1,"d:[\"$\",\"main\",null,{\"children\":[[\"$\",\"h1\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"/\",\"children\":\"Statistics\"}]}],[\"$\",\"h2\",null,{\"children\":[\"Problem Statement for \\\"\",\"Parenthese\",\"\\\"\"]}],[\"$\",\"section\",null,{\"className\":\"__className_c9cbed\",\"children\":[[\"$\",\"article\",null,{\"children\":[[\"$\",\"div\",null,{\"children\":[[\"$\",\"h3\",null,{\"children\":\"Problem Statement\"}],[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"$f\"}}]]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"h3\",null,{\"children\":\"Definition\"}],[\"$\",\"dl\",null,{\"children\":[[\"$\",\"dt\",null,{\"children\":\"Class:\"}],[\"$\",\"dd\",null,{\"children\":[\"$\",\"span\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"Parenthese\"}}]}],[\"$\",\"dt\",null,{\"children\":\"Method:\"}],[\"$\",\"dd\",null,{\"children\":[\"$\",\"span\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"countInts\"}}]}],[\"$\",\"dt\",null,{\"children\":\"Parameters:\"}],[\"$\",\"dd\",null,{\"children\":[\"$\",\"span\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"String\"}}]}],[\"$\",\"dt\",null,{\"children\":\"Returns:\"}],[\"$\",\"dd\",null,{\"children\":[\"$\",\"span\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"int\"}}]}],[\"$\",\"dt\",null,{\"children\":\"Method signature:\"}],[\"$\",\"dd\",null,{\"children\":[\"$\",\"span\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"int countInts(String param0)\"}}]}],[\"$\",\"dt\",null,{\"children\":\"(be sure your method is public)\"}]]}]]}],null,[\"$\",\"div\",null,{\"children\":[[\"$\",\"h3\",null,{\"children\":\"Constraints\"}],[\"$\",\"ul\",null,{\"children\":[]}]]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"h3\",null,{\"children\":\"Examples\"}],[\"$\",\"ol\",null,{\"children\":[]}]]}]]}],[\"$\",\"hr\",null,{}],[\"$\",\"span\",null,{\"children\":\"This problem statement is the exclusive and proprietary property of TopCoder, Inc. Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited. (c)2024, TopCoder, Inc. All rights reserved.\"}],[\"$\",\"hr\",null,{}]]}],[\"$\",\"section\",null,{\"children\":[[\"$\",\"span\",null,{\"children\":\"This problem was used for:\"}],[\"$\",\"div\",null,{\"children\":[\"$\",\"ul\",null,{\"children\":[[\"$\",\"li\",\"0\",{\"children\":[\"$\",\"a\",null,{\"href\":\"/ProblemDetail/rd/4065/pm/424\",\"children\":[\"2002-\",\" \",\"SRM 67\",\" - Division \",\"I\",\", \",\"Level Three\"]}]}]]}]}]]}]]}]\n"])</script></body></html>