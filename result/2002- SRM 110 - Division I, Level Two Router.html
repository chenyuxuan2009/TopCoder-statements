<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" as="font" href="/_next/static/media/c9a5bc6a7c948fb0-s.p.woff2" crossorigin="" type="font/woff2"/><link rel="preload" as="font" href="/_next/static/media/92f44bb82993d879-s.p.woff2" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/d3df112486f97f47.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/ce229e8280b65b88.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/67cd89eb2f8905c7.css" data-precedence="next"/><link rel="preload" href="/_next/static/chunks/webpack-f608cced2fbc4acf.js" as="script" fetchPriority="low"/><script src="/_next/static/chunks/fd9d1056-44fe9588d0e5e7bc.js" async=""></script><script src="/_next/static/chunks/596-8d845297122c6823.js" async=""></script><script src="/_next/static/chunks/main-app-f07f8834a8b67325.js" async=""></script><title>TopCoder Statistics - Problem Statement</title><meta name="description" content="TopCoder Statistics - Problem Archive"/><link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="16x16"/><meta name="next-size-adjust"/><script src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js" noModule=""></script></head><body class="__className_aaf875"><main><h1><a href="/">Statistics</a></h1><h2>Problem Statement for &quot;<!-- -->Router<!-- -->&quot;</h2><section class="__className_c9cbed"><article><div><h3>Problem Statement</h3><div><pre xmlns="http://topcoder.com">PROBLEM STATEMENT

Here we describe a simplified protocol for N hosts sending packets through one
router.

The router behavior is the following. The router buffer capacity describes how
many packets the router can accept and store (it will be given as input). The
router forwarding rate describes how many packets it can forward per time unit.
The forwarding rate is constant and given as input. During each time unit the
router serves one host. All hosts are served in order: at the first time step
the first host is served, then the second, then the third, etc. then the last
(Nth), then the first one again and so on. At a specific time unit the router
receives packets from the host it currently serves. If the number of packets is
more than the current space available in the buffer, the router drops the
packets that do not fit in the buffer and accepts all packets that fit in the
buffer. After that it forwards the number of packets defined by the forwarding
rate or the number of packets in the buffer, whichever is smaller. If the
number of packets in the buffer is bigger than the forwarding rate, those
packets that were accepted for storage first are forwarded first. As you might
expect, packets that are successfully forwarded are removed from the buffer.
Then the next time unit starts and the router moves to the next host.

Each host behaves the same way. Each host tries to send an unlimited number of
packets. The rate at which it sends the packets is determined by a congestion
control protocol which works as follows. The host sends the packets to the
router only on its turn. The initial number of packets the host tries to send
is determined by input parameters. The next time the turn comes to this host
the number of packets is determined by the previous number of packets the host
sent and by whether or not the router dropped some of them. If none of the
packets were dropped, the host sends the same number of packets as before plus
one. If some of the packets were dropped, the host tries to resend them and the
number of packets it tries to send this time is the previous number divided by
2. (If the number is odd, round the answer up).

Your task is, given the buffer capacity and the forwarding rate of the router,
a number of time units, and the initial sending rate of each host, return the
number of packets from each host that was forwarded after the given time.
Return results for each host in the order corresponding to the input order.
Assume that the buffer is empty at the beginning. 

DEFINITION
Class: Router
Method: forwarded
Parameters: int, int, int, int[]
Returns: int[]
Method signature (be sure your method is public):  int[] forwarded(int
bufferCap, int forwRate, int time, int[] initialRates);
 
TopCoder will ensure the validity of the inputs. Inputs are valid if all of the
following criteria are met: 
- bufferCap is between 1 and 100 inclusive
- forwRate is between 1 and 10 inclusive
- time is between 1 and 1000 inclusive
- initialRates has between 1 and 10 elements inclusive
- each element of initialRates is between 1 and 1000 inclusive

EXAMPLES
1. bufferCap = 10, forwRate = 5, time = 4, initialRates = {7, 2, 20, 1}. During
the first time unit all 7 packets from the first host are accepted, 5 of them
are forwarded and 2 packets are stored in the buffer. During the second time
unit all 2 packets from the second host are accepted, and 2 packets from the
first host and 2 packets from the second host are sent (the buffer is now
empty). During the third time unit 10 packets from the third host are accepted
and 5 of them are forwarded. During the fourth time unit 1 packet from the
fourth host is accepted and 5 packets from the buffer are sent. Return {7, 2,
10, 0}

2. bufferCap = 10, forwRate = 5, time = 20, initialRates = {1}, return {90}

3. bufferCap = 100; forwRate = 6, time = 20, initialRates = {1,1,1,1,1}, return
{10,10,10,10,10}

4. bufferCap = 10, forwRate = 6, time = 21, initialRates = {1,1,1,1,1}, return
{15,10,10,10,10}

5. bufferCap = 100, forwRate = 10, time = 1000, initialRates = {1000, 1000,
1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000}, return {1090, 1000, 1000, 988,
987, 987, 987, 987, 987, 987}</pre></div></div><div><h3>Definition</h3><dl><dt>Class:</dt><dd><span>Router</span></dd><dt>Method:</dt><dd><span>forwarded</span></dd><dt>Parameters:</dt><dd><span>int, int, int, int[]</span></dd><dt>Returns:</dt><dd><span>int[]</span></dd><dt>Method signature:</dt><dd><span>int[] forwarded(int param0, int param1, int param2, int[] param3)</span></dd><dt>(be sure your method is public)</dt></dl></div><div><h3>Constraints</h3><ul></ul></div><div><h3>Examples</h3><ol></ol></div></article><hr/><span>This problem statement is the exclusive and proprietary property of TopCoder, Inc. Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited. (c)2024, TopCoder, Inc. All rights reserved.</span><hr/></section><section><span>This problem was used for:</span><div><ul><li><a href="/ProblemDetail/rd/4270/pm/1031">2002-<!-- --> <!-- -->SRM 110<!-- --> - Division <!-- -->I<!-- -->, <!-- -->Level Two</a></li></ul></div></section></main><script src="/_next/static/chunks/webpack-f608cced2fbc4acf.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/media/c9a5bc6a7c948fb0-s.p.woff2\",{\"as\":\"font\",\"type\":\"font/woff2\"}]\n2:HL[\"/_next/static/css/d3df112486f97f47.css\",{\"as\":\"style\"}]\n3:HL[\"/_next/static/css/ce229e8280b65b88.css\",{\"as\":\"style\"}]\n0:\"$L4\"\n"])</script><script>self.__next_f.push([1,"5:HL[\"/_next/static/media/92f44bb82993d879-s.p.woff2\",{\"as\":\"font\",\"type\":\"font/woff2\"}]\n6:HL[\"/_next/static/css/67cd89eb2f8905c7.css\",{\"as\":\"style\"}]\n"])</script><script>self.__next_f.push([1,"7:I{\"id\":7948,\"chunks\":[\"272:static/chunks/webpack-f608cced2fbc4acf.js\",\"971:static/chunks/fd9d1056-44fe9588d0e5e7bc.js\",\"596:static/chunks/596-8d845297122c6823.js\"],\"name\":\"default\",\"async\":false}\n9:I{\"id\":6628,\"chunks\":[\"272:static/chunks/webpack-f608cced2fbc4acf.js\",\"971:static/chunks/fd9d1056-44fe9588d0e5e7bc.js\",\"596:static/chunks/596-8d845297122c6823.js\"],\"name\":\"\",\"async\":false}\na:I{\"id\":7767,\"chunks\":[\"272:static/chunks/webpack-f608cced2fbc4acf.js\",\"971:static/chunks/fd9d1056-44fe9588d0e5e7bc.js\",\"5"])</script><script>self.__next_f.push([1,"96:static/chunks/596-8d845297122c6823.js\"],\"name\":\"default\",\"async\":false}\nb:I{\"id\":7920,\"chunks\":[\"272:static/chunks/webpack-f608cced2fbc4acf.js\",\"971:static/chunks/fd9d1056-44fe9588d0e5e7bc.js\",\"596:static/chunks/596-8d845297122c6823.js\"],\"name\":\"default\",\"async\":false}\ne:I{\"id\":1221,\"chunks\":[\"334:static/chunks/334-8828ae4f59410144.js\",\"185:static/chunks/app/layout-ec819519d0132115.js\"],\"name\":\"\",\"async\":false}\n"])</script><script>self.__next_f.push([1,"4:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/d3df112486f97f47.css\",\"precedence\":\"next\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/ce229e8280b65b88.css\",\"precedence\":\"next\"}]],[\"$\",\"$L7\",null,{\"buildId\":\"7VpN_WliezDw3Rx1lULsj\",\"assetPrefix\":\"\",\"initialCanonicalUrl\":\"/ProblemStatement/pm/1031/\",\"initialTree\":[\"\",{\"children\":[\"ProblemStatement\",{\"children\":[\"pm\",{\"children\":[[\"problemId\",\"1031\",\"d\"],{\"children\":[\"__PAGE__?{\\\"problemId\\\":\\\"1031\\\"}\",{}]}]}]}]},\"$undefined\",\"$undefined\",true],\"initialHead\":[false,\"$L8\"],\"globalErrorComponent\":\"$9\",\"children\":[null,[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"className\":\"__className_aaf875\",\"children\":[[\"$\",\"$La\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"template\":[\"$\",\"$Lb\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],\"notFoundStyles\":[],\"childProp\":{\"current\":[\"$\",\"$La\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"ProblemStatement\",\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"template\":[\"$\",\"$Lb\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[\"$\",\"$La\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"ProblemStatement\",\"children\",\"pm\",\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"template\":[\"$\",\"$Lb\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[\"$\",\"$La\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"ProblemStatement\",\"children\",\"pm\",\"children\",[\"problemId\",\"1031\",\"d\"],\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"template\":[\"$\",\"$Lb\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[\"$Lc\",\"$Ld\",null],\"segment\":\"__PAGE__?{\\\"problemId\\\":\\\"1031\\\"}\"},\"styles\":[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/67cd89eb2f8905c7.css\",\"precedence\":\"next\"}]]}],\"segment\":[\"problemId\",\"1031\",\"d\"]},\"styles\":[]}],\"segment\":\"pm\"},\"styles\":[]}],\"segment\":\"ProblemStatement\"},\"styles\":[]}],[\"$\",\"$Le\",null,{}]]}]}],null]}]]\n"])</script><script>self.__next_f.push([1,"8:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"1\",{\"children\":\"TopCoder Statistics - Problem Statement\"}],[\"$\",\"meta\",\"2\",{\"name\":\"description\",\"content\":\"TopCoder Statistics - Problem Archive\"}],[\"$\",\"meta\",\"3\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"link\",\"4\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"16x16\"}],[\"$\",\"meta\",\"5\",{\"name\":\"next-size-adjust\"}]]\nc:null\nf:T1087,"])</script><script>self.__next_f.push([1,"\u003cpre xmlns=\"http://topcoder.com\"\u003ePROBLEM STATEMENT\n\nHere we describe a simplified protocol for N hosts sending packets through one\nrouter.\n\nThe router behavior is the following. The router buffer capacity describes how\nmany packets the router can accept and store (it will be given as input). The\nrouter forwarding rate describes how many packets it can forward per time unit.\nThe forwarding rate is constant and given as input. During each time unit the\nrouter serves one host. All hosts are served in order: at the first time step\nthe first host is served, then the second, then the third, etc. then the last\n(Nth), then the first one again and so on. At a specific time unit the router\nreceives packets from the host it currently serves. If the number of packets is\nmore than the current space available in the buffer, the router drops the\npackets that do not fit in the buffer and accepts all packets that fit in the\nbuffer. After that it forwards the number of packets defined by the forwarding\nrate or the number of packets in the buffer, whichever is smaller. If the\nnumber of packets in the buffer is bigger than the forwarding rate, those\npackets that were accepted for storage first are forwarded first. As you might\nexpect, packets that are successfully forwarded are removed from the buffer.\nThen the next time unit starts and the router moves to the next host.\n\nEach host behaves the same way. Each host tries to send an unlimited number of\npackets. The rate at which it sends the packets is determined by a congestion\ncontrol protocol which works as follows. The host sends the packets to the\nrouter only on its turn. The initial number of packets the host tries to send\nis determined by input parameters. The next time the turn comes to this host\nthe number of packets is determined by the previous number of packets the host\nsent and by whether or not the router dropped some of them. If none of the\npackets were dropped, the host sends the same number of packets as before plus\none. If some of the packets were dropped, the host tries to resend them and the\nnumber of packets it tries to send this time is the previous number divided by\n2. (If the number is odd, round the answer up).\n\nYour task is, given the buffer capacity and the forwarding rate of the router,\na number of time units, and the initial sending rate of each host, return the\nnumber of packets from each host that was forwarded after the given time.\nReturn results for each host in the order corresponding to the input order.\nAssume that the buffer is empty at the beginning. \n\nDEFINITION\nClass: Router\nMethod: forwarded\nParameters: int, int, int, int[]\nReturns: int[]\nMethod signature (be sure your method is public):  int[] forwarded(int\nbufferCap, int forwRate, int time, int[] initialRates);\n \nTopCoder will ensure the validity of the inputs. Inputs are valid if all of the\nfollowing criteria are met: \n- bufferCap is between 1 and 100 inclusive\n- forwRate is between 1 and 10 inclusive\n- time is between 1 and 1000 inclusive\n- initialRates has between 1 and 10 elements inclusive\n- each element of initialRates is between 1 and 1000 inclusive\n\nEXAMPLES\n1. bufferCap = 10, forwRate = 5, time = 4, initialRates = {7, 2, 20, 1}. During\nthe first time unit all 7 packets from the first host are accepted, 5 of them\nare forwarded and 2 packets are stored in the buffer. During the second time\nunit all 2 packets from the second host are accepted, and 2 packets from the\nfirst host and 2 packets from the second host are sent (the buffer is now\nempty). During the third time unit 10 packets from the third host are accepted\nand 5 of them are forwarded. During the fourth time unit 1 packet from the\nfourth host is accepted and 5 packets from the buffer are sent. Return {7, 2,\n10, 0}\n\n2. bufferCap = 10, forwRate = 5, time = 20, initialRates = {1}, return {90}\n\n3. bufferCap = 100; forwRate = 6, time = 20, initialRates = {1,1,1,1,1}, return\n{10,10,10,10,10}\n\n4. bufferCap = 10, forwRate = 6, time = 21, initialRates = {1,1,1,1,1}, return\n{15,10,10,10,10}\n\n5. bufferCap = 100, forwRate = 10, time = 1000, initialRates = {1000, 1000,\n1000, 1000, 1000, 1000, 1000, 1000, 1000, 1000}, return {1090, 1000, 1000, 988,\n987, 987, 987, 987, 987, 987}\u003c/pre\u003e"])</script><script>self.__next_f.push([1,"d:[\"$\",\"main\",null,{\"children\":[[\"$\",\"h1\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"/\",\"children\":\"Statistics\"}]}],[\"$\",\"h2\",null,{\"children\":[\"Problem Statement for \\\"\",\"Router\",\"\\\"\"]}],[\"$\",\"section\",null,{\"className\":\"__className_c9cbed\",\"children\":[[\"$\",\"article\",null,{\"children\":[[\"$\",\"div\",null,{\"children\":[[\"$\",\"h3\",null,{\"children\":\"Problem Statement\"}],[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"$f\"}}]]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"h3\",null,{\"children\":\"Definition\"}],[\"$\",\"dl\",null,{\"children\":[[\"$\",\"dt\",null,{\"children\":\"Class:\"}],[\"$\",\"dd\",null,{\"children\":[\"$\",\"span\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"Router\"}}]}],[\"$\",\"dt\",null,{\"children\":\"Method:\"}],[\"$\",\"dd\",null,{\"children\":[\"$\",\"span\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"forwarded\"}}]}],[\"$\",\"dt\",null,{\"children\":\"Parameters:\"}],[\"$\",\"dd\",null,{\"children\":[\"$\",\"span\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"int, int, int, int[]\"}}]}],[\"$\",\"dt\",null,{\"children\":\"Returns:\"}],[\"$\",\"dd\",null,{\"children\":[\"$\",\"span\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"int[]\"}}]}],[\"$\",\"dt\",null,{\"children\":\"Method signature:\"}],[\"$\",\"dd\",null,{\"children\":[\"$\",\"span\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"int[] forwarded(int param0, int param1, int param2, int[] param3)\"}}]}],[\"$\",\"dt\",null,{\"children\":\"(be sure your method is public)\"}]]}]]}],null,[\"$\",\"div\",null,{\"children\":[[\"$\",\"h3\",null,{\"children\":\"Constraints\"}],[\"$\",\"ul\",null,{\"children\":[]}]]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"h3\",null,{\"children\":\"Examples\"}],[\"$\",\"ol\",null,{\"children\":[]}]]}]]}],[\"$\",\"hr\",null,{}],[\"$\",\"span\",null,{\"children\":\"This problem statement is the exclusive and proprietary property of TopCoder, Inc. Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited. (c)2024, TopCoder, Inc. All rights reserved.\"}],[\"$\",\"hr\",null,{}]]}],[\"$\",\"section\",null,{\"children\":[[\"$\",\"span\",null,{\"children\":\"This problem was used for:\"}],[\"$\",\"div\",null,{\"children\":[\"$\",\"ul\",null,{\"children\":[[\"$\",\"li\",\"0\",{\"children\":[\"$\",\"a\",null,{\"href\":\"/ProblemDetail/rd/4270/pm/1031\",\"children\":[\"2002-\",\" \",\"SRM 110\",\" - Division \",\"I\",\", \",\"Level Two\"]}]}]]}]}]]}]]}]\n"])</script></body></html>