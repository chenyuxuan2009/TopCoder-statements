<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" as="font" href="/_next/static/media/c9a5bc6a7c948fb0-s.p.woff2" crossorigin="" type="font/woff2"/><link rel="preload" as="font" href="/_next/static/media/92f44bb82993d879-s.p.woff2" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/d3df112486f97f47.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/ce229e8280b65b88.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/67cd89eb2f8905c7.css" data-precedence="next"/><link rel="preload" href="/_next/static/chunks/webpack-f608cced2fbc4acf.js" as="script" fetchPriority="low"/><script src="/_next/static/chunks/fd9d1056-44fe9588d0e5e7bc.js" async=""></script><script src="/_next/static/chunks/596-8d845297122c6823.js" async=""></script><script src="/_next/static/chunks/main-app-f07f8834a8b67325.js" async=""></script><title>TopCoder Statistics - Problem Statement</title><meta name="description" content="TopCoder Statistics - Problem Archive"/><link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="16x16"/><meta name="next-size-adjust"/><script src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js" noModule=""></script></head><body class="__className_aaf875"><main><h1><a href="/">Statistics</a></h1><h2>Problem Statement for &quot;<!-- -->MapDelta<!-- -->&quot;</h2><section class="__className_c9cbed"><article><div><h3>Problem Statement</h3><div><pre xmlns="http://topcoder.com">BACKGROUND

A Java java.util.Map or a C++ std::map consist of pairs of keys (unique) and
values (not necessarily unique) that are associated with those keys.
Operations are provided that can add a new key/value pair to the map, update
the value associated with an existing key, or remove a key and the value
associated with it.

When building a distributed application, it is often desirable to maintain
identical copies of a map at both ends of a slow connection. If a change is
made to the map, it may be much more efficient to just transmit a list of
deltas (records that describe an operation that transforms the old map into the
new) instead of transmitting an entire copy of the map.  For example, if the
key/value pair ("A","123") is added to a map that contains 100 entries, sending
only the delta "add A=123" might require almost two orders of magnitude less
network traffic than resending the entire map.

PROBLEM STATEMENT

You are to create a class MapDelta that contains the method compute.  The
method should take a String[] that corresponds to a series of deltas (to be
applied in order by increasing index), and it should return a String[] that
corresponds to the minimal series of deltas that would accomplish the same
effect.

There will be three types of deltas: addition, update, and removal,
representing respectively adding a key/value pair to the map, updating the
value associated with an existing key, and removing an existing key and the
value associated with it.  Both keys and values will be strings of length 1 to
10 (inclusive) made up of upper and lower case letters and numeric digits (A-Z,
a-z, and 0-9 inclusive).  The three forms are:

  "add KEY=VALUE"

  "update KEY=VALUE"

  "remove KEY"

Each of the three forms contains exactly one space and exactly one equals sign.
TopCoder will verify that all input is properly formed and that there are no
inconsistent deltas (duplicate removals, update of keys that have been removed
but not re-added, adding of keys that must already be present).

The deltas returned from your method should have the same form as the input
data, with the additional constraint that deltas should be returned in order
sorted by key (lexicographical sorting with the smallest first).

All comparisons are case-sensitive ("A" is less than "a").

DEFINITION

Class name: MapDelta
Method name: compute
Parameters: String[]
Returns: String[]

Here is the method signature (be sure your method is public): String[]
compute(String[] deltas)

INPUT CONSTRAINTS

TopCoder will ensure that the input is a valid list of deltas.  A delta list is
valid if all of the following are true:

- The list contains between 0 and 50 (inclusive) deltas.
- Each delta is exactly of the form "add KEY=VALUE", "update KEY=VALUE", or
"remove KEY" (each delta contains exactly one space character).
- Each KEY and VALUE consists of between 1 and 10 (inclusive) characters from
the set comprising lower case letters (a-z, inclusive), upper case letters
(A-Z, inclusive), and numeric digits (0-9, inclusive).
- For a particular key K, if the delta "remove K" is present in the delta list,
the next delta, if any, to reference K must be "add K".
- For a particular key K and value V, if the delta "add K=V" is present in the
delta list, the next delta, if any, to reference K must not be an add delta.
- For a particular key K and value V, if the delta "update K=V" is present in
the delta list, the next delta, if any, to reference K must not be an add delta.

NOTE

The map may already be populated, so it is possible for the first delta to be
of type "update".

EXAMPLES

If the list of deltas is {"add X=1", "update Y=2", "update X=11", "remove Y"},
we can replace the add and the update of X with a single "add X=11", and we can
discard the update of Y because it is removed later in the list.  Sorting the
return values by key gives us the return value of {"add X=11", "remove Y"}.

{"add X=1", "remove Y", "remove X", "add Y=10"} returns {"update Y=10"}.

{"update x=abc", "update x0=def"} returns {"update x=abc", "update x0=def"}.

{"update revision=247", "update revision=249"} returns {"update revision=249"}.

{"add temp=XX", "remove temp"} returns {}.

{} returns {}.</pre></div></div><div><h3>Definition</h3><dl><dt>Class:</dt><dd><span>MapDelta</span></dd><dt>Method:</dt><dd><span>compute</span></dd><dt>Parameters:</dt><dd><span>String[]</span></dd><dt>Returns:</dt><dd><span>String[]</span></dd><dt>Method signature:</dt><dd><span>String[] compute(String[] param0)</span></dd><dt>(be sure your method is public)</dt></dl></div><div><h3>Constraints</h3><ul></ul></div><div><h3>Examples</h3><ol></ol></div></article><hr/><span>This problem statement is the exclusive and proprietary property of TopCoder, Inc. Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited. (c)2024, TopCoder, Inc. All rights reserved.</span><hr/></section><section><span>This problem was used for:</span><div><ul><li><a href="/ProblemDetail/rd/4017/pm/252">2001-<!-- --> <!-- -->SRM 46<!-- --> - Division <!-- -->I<!-- -->, <!-- -->Level Three</a></li><li><a href="/ProblemDetail/rd/4017/pm/252">2001-<!-- --> <!-- -->SRM 46<!-- --> - Division <!-- -->II<!-- -->, <!-- -->Level Three</a></li></ul></div></section></main><script src="/_next/static/chunks/webpack-f608cced2fbc4acf.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/media/c9a5bc6a7c948fb0-s.p.woff2\",{\"as\":\"font\",\"type\":\"font/woff2\"}]\n2:HL[\"/_next/static/css/d3df112486f97f47.css\",{\"as\":\"style\"}]\n3:HL[\"/_next/static/css/ce229e8280b65b88.css\",{\"as\":\"style\"}]\n0:\"$L4\"\n"])</script><script>self.__next_f.push([1,"5:HL[\"/_next/static/media/92f44bb82993d879-s.p.woff2\",{\"as\":\"font\",\"type\":\"font/woff2\"}]\n6:HL[\"/_next/static/css/67cd89eb2f8905c7.css\",{\"as\":\"style\"}]\n"])</script><script>self.__next_f.push([1,"7:I{\"id\":7948,\"chunks\":[\"272:static/chunks/webpack-f608cced2fbc4acf.js\",\"971:static/chunks/fd9d1056-44fe9588d0e5e7bc.js\",\"596:static/chunks/596-8d845297122c6823.js\"],\"name\":\"default\",\"async\":false}\n9:I{\"id\":6628,\"chunks\":[\"272:static/chunks/webpack-f608cced2fbc4acf.js\",\"971:static/chunks/fd9d1056-44fe9588d0e5e7bc.js\",\"596:static/chunks/596-8d845297122c6823.js\"],\"name\":\"\",\"async\":false}\na:I{\"id\":7767,\"chunks\":[\"272:static/chunks/webpack-f608cced2fbc4acf.js\",\"971:static/chunks/fd9d1056-44fe9588d0e5e7bc.js\",\"5"])</script><script>self.__next_f.push([1,"96:static/chunks/596-8d845297122c6823.js\"],\"name\":\"default\",\"async\":false}\nb:I{\"id\":7920,\"chunks\":[\"272:static/chunks/webpack-f608cced2fbc4acf.js\",\"971:static/chunks/fd9d1056-44fe9588d0e5e7bc.js\",\"596:static/chunks/596-8d845297122c6823.js\"],\"name\":\"default\",\"async\":false}\ne:I{\"id\":1221,\"chunks\":[\"334:static/chunks/334-8828ae4f59410144.js\",\"185:static/chunks/app/layout-ec819519d0132115.js\"],\"name\":\"\",\"async\":false}\n"])</script><script>self.__next_f.push([1,"4:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/d3df112486f97f47.css\",\"precedence\":\"next\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/ce229e8280b65b88.css\",\"precedence\":\"next\"}]],[\"$\",\"$L7\",null,{\"buildId\":\"7VpN_WliezDw3Rx1lULsj\",\"assetPrefix\":\"\",\"initialCanonicalUrl\":\"/ProblemStatement/pm/252/\",\"initialTree\":[\"\",{\"children\":[\"ProblemStatement\",{\"children\":[\"pm\",{\"children\":[[\"problemId\",\"252\",\"d\"],{\"children\":[\"__PAGE__?{\\\"problemId\\\":\\\"252\\\"}\",{}]}]}]}]},\"$undefined\",\"$undefined\",true],\"initialHead\":[false,\"$L8\"],\"globalErrorComponent\":\"$9\",\"children\":[null,[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"className\":\"__className_aaf875\",\"children\":[[\"$\",\"$La\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"template\":[\"$\",\"$Lb\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],\"notFoundStyles\":[],\"childProp\":{\"current\":[\"$\",\"$La\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"ProblemStatement\",\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"template\":[\"$\",\"$Lb\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[\"$\",\"$La\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"ProblemStatement\",\"children\",\"pm\",\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"template\":[\"$\",\"$Lb\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[\"$\",\"$La\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"ProblemStatement\",\"children\",\"pm\",\"children\",[\"problemId\",\"252\",\"d\"],\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"template\":[\"$\",\"$Lb\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[\"$Lc\",\"$Ld\",null],\"segment\":\"__PAGE__?{\\\"problemId\\\":\\\"252\\\"}\"},\"styles\":[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/67cd89eb2f8905c7.css\",\"precedence\":\"next\"}]]}],\"segment\":[\"problemId\",\"252\",\"d\"]},\"styles\":[]}],\"segment\":\"pm\"},\"styles\":[]}],\"segment\":\"ProblemStatement\"},\"styles\":[]}],[\"$\",\"$Le\",null,{}]]}]}],null]}]]\n"])</script><script>self.__next_f.push([1,"8:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"1\",{\"children\":\"TopCoder Statistics - Problem Statement\"}],[\"$\",\"meta\",\"2\",{\"name\":\"description\",\"content\":\"TopCoder Statistics - Problem Archive\"}],[\"$\",\"meta\",\"3\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"link\",\"4\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"16x16\"}],[\"$\",\"meta\",\"5\",{\"name\":\"next-size-adjust\"}]]\nc:null\nf:T109d,"])</script><script>self.__next_f.push([1,"\u003cpre xmlns=\"http://topcoder.com\"\u003eBACKGROUND\n\nA Java java.util.Map or a C++ std::map consist of pairs of keys (unique) and\nvalues (not necessarily unique) that are associated with those keys.\nOperations are provided that can add a new key/value pair to the map, update\nthe value associated with an existing key, or remove a key and the value\nassociated with it.\n\nWhen building a distributed application, it is often desirable to maintain\nidentical copies of a map at both ends of a slow connection. If a change is\nmade to the map, it may be much more efficient to just transmit a list of\ndeltas (records that describe an operation that transforms the old map into the\nnew) instead of transmitting an entire copy of the map.  For example, if the\nkey/value pair (\"A\",\"123\") is added to a map that contains 100 entries, sending\nonly the delta \"add A=123\" might require almost two orders of magnitude less\nnetwork traffic than resending the entire map.\n\nPROBLEM STATEMENT\n\nYou are to create a class MapDelta that contains the method compute.  The\nmethod should take a String[] that corresponds to a series of deltas (to be\napplied in order by increasing index), and it should return a String[] that\ncorresponds to the minimal series of deltas that would accomplish the same\neffect.\n\nThere will be three types of deltas: addition, update, and removal,\nrepresenting respectively adding a key/value pair to the map, updating the\nvalue associated with an existing key, and removing an existing key and the\nvalue associated with it.  Both keys and values will be strings of length 1 to\n10 (inclusive) made up of upper and lower case letters and numeric digits (A-Z,\na-z, and 0-9 inclusive).  The three forms are:\n\n  \"add KEY=VALUE\"\n\n  \"update KEY=VALUE\"\n\n  \"remove KEY\"\n\nEach of the three forms contains exactly one space and exactly one equals sign.\nTopCoder will verify that all input is properly formed and that there are no\ninconsistent deltas (duplicate removals, update of keys that have been removed\nbut not re-added, adding of keys that must already be present).\n\nThe deltas returned from your method should have the same form as the input\ndata, with the additional constraint that deltas should be returned in order\nsorted by key (lexicographical sorting with the smallest first).\n\nAll comparisons are case-sensitive (\"A\" is less than \"a\").\n\nDEFINITION\n\nClass name: MapDelta\nMethod name: compute\nParameters: String[]\nReturns: String[]\n\nHere is the method signature (be sure your method is public): String[]\ncompute(String[] deltas)\n\nINPUT CONSTRAINTS\n\nTopCoder will ensure that the input is a valid list of deltas.  A delta list is\nvalid if all of the following are true:\n\n- The list contains between 0 and 50 (inclusive) deltas.\n- Each delta is exactly of the form \"add KEY=VALUE\", \"update KEY=VALUE\", or\n\"remove KEY\" (each delta contains exactly one space character).\n- Each KEY and VALUE consists of between 1 and 10 (inclusive) characters from\nthe set comprising lower case letters (a-z, inclusive), upper case letters\n(A-Z, inclusive), and numeric digits (0-9, inclusive).\n- For a particular key K, if the delta \"remove K\" is present in the delta list,\nthe next delta, if any, to reference K must be \"add K\".\n- For a particular key K and value V, if the delta \"add K=V\" is present in the\ndelta list, the next delta, if any, to reference K must not be an add delta.\n- For a particular key K and value V, if the delta \"update K=V\" is present in\nthe delta list, the next delta, if any, to reference K must not be an add delta.\n\nNOTE\n\nThe map may already be populated, so it is possible for the first delta to be\nof type \"update\".\n\nEXAMPLES\n\nIf the list of deltas is {\"add X=1\", \"update Y=2\", \"update X=11\", \"remove Y\"},\nwe can replace the add and the update of X with a single \"add X=11\", and we can\ndiscard the update of Y because it is removed later in the list.  Sorting the\nreturn values by key gives us the return value of {\"add X=11\", \"remove Y\"}.\n\n{\"add X=1\", \"remove Y\", \"remove X\", \"add Y=10\"} returns {\"update Y=10\"}.\n\n{\"update x=abc\", \"update x0=def\"} returns {\"update x=abc\", \"update x0=def\"}.\n\n{\"update revision=247\", \"update revision=249\"} returns {\"update revision=249\"}.\n\n{\"add temp=XX\", \"remove temp\"} returns {}.\n\n{} returns {}.\u003c/pre\u003e"])</script><script>self.__next_f.push([1,"d:[\"$\",\"main\",null,{\"children\":[[\"$\",\"h1\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"/\",\"children\":\"Statistics\"}]}],[\"$\",\"h2\",null,{\"children\":[\"Problem Statement for \\\"\",\"MapDelta\",\"\\\"\"]}],[\"$\",\"section\",null,{\"className\":\"__className_c9cbed\",\"children\":[[\"$\",\"article\",null,{\"children\":[[\"$\",\"div\",null,{\"children\":[[\"$\",\"h3\",null,{\"children\":\"Problem Statement\"}],[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"$f\"}}]]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"h3\",null,{\"children\":\"Definition\"}],[\"$\",\"dl\",null,{\"children\":[[\"$\",\"dt\",null,{\"children\":\"Class:\"}],[\"$\",\"dd\",null,{\"children\":[\"$\",\"span\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"MapDelta\"}}]}],[\"$\",\"dt\",null,{\"children\":\"Method:\"}],[\"$\",\"dd\",null,{\"children\":[\"$\",\"span\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"compute\"}}]}],[\"$\",\"dt\",null,{\"children\":\"Parameters:\"}],[\"$\",\"dd\",null,{\"children\":[\"$\",\"span\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"String[]\"}}]}],[\"$\",\"dt\",null,{\"children\":\"Returns:\"}],[\"$\",\"dd\",null,{\"children\":[\"$\",\"span\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"String[]\"}}]}],[\"$\",\"dt\",null,{\"children\":\"Method signature:\"}],[\"$\",\"dd\",null,{\"children\":[\"$\",\"span\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"String[] compute(String[] param0)\"}}]}],[\"$\",\"dt\",null,{\"children\":\"(be sure your method is public)\"}]]}]]}],null,[\"$\",\"div\",null,{\"children\":[[\"$\",\"h3\",null,{\"children\":\"Constraints\"}],[\"$\",\"ul\",null,{\"children\":[]}]]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"h3\",null,{\"children\":\"Examples\"}],[\"$\",\"ol\",null,{\"children\":[]}]]}]]}],[\"$\",\"hr\",null,{}],[\"$\",\"span\",null,{\"children\":\"This problem statement is the exclusive and proprietary property of TopCoder, Inc. Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited. (c)2024, TopCoder, Inc. All rights reserved.\"}],[\"$\",\"hr\",null,{}]]}],[\"$\",\"section\",null,{\"children\":[[\"$\",\"span\",null,{\"children\":\"This problem was used for:\"}],[\"$\",\"div\",null,{\"children\":[\"$\",\"ul\",null,{\"children\":[[\"$\",\"li\",\"0\",{\"children\":[\"$\",\"a\",null,{\"href\":\"/ProblemDetail/rd/4017/pm/252\",\"children\":[\"2001-\",\" \",\"SRM 46\",\" - Division \",\"I\",\", \",\"Level Three\"]}]}],[\"$\",\"li\",\"1\",{\"children\":[\"$\",\"a\",null,{\"href\":\"/ProblemDetail/rd/4017/pm/252\",\"children\":[\"2001-\",\" \",\"SRM 46\",\" - Division \",\"II\",\", \",\"Level Three\"]}]}]]}]}]]}]]}]\n"])</script></body></html>